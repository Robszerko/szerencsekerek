<!DOCTYPE html>
<html lang="hu">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Békebeli Szerencsekerék</title>
    <link rel="preconnect" href="https://fonts.googleapis.com">
    <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
    <link href="https://fonts.googleapis.com/css2?family=Shrikhand&family=Roboto+Slab:wght@400;700&family=Great+Vibes&display=swap" rel="stylesheet">
    <style>
        :root {
            --bg-wood: #6f4e37;
            --bg-dark-wood: #3d2b1f;
            --screen-blue: #0f4c75;
            --tile-green: #1b262c;
            --font-color-light: #f4e9d8;
            --font-color-dark: #323232;
            --gold-color: #f7b733;
            --pointer-red: #d92027;
            --tile-border-color: #7D9D9C;
            --special-prize-color: #c0c0c0;
        }

        body {
            background-color: var(--bg-dark-wood);
            background-image: linear-gradient(45deg, #3a2220 25%, transparent 25%), linear-gradient(-45deg, #3a2220 25%, transparent 25%), linear-gradient(45deg, transparent 75%, #3a2220 75%), linear-gradient(-45deg, transparent 75%, #3a2220 75%);
            background-size: 20px 20px;
            font-family: 'Roboto Slab', serif;
            display: flex;
            flex-direction: column;
            justify-content: flex-start;
            align-items: center;
            min-height: 100vh;
            margin: 0;
            padding: 20px;
            box-sizing: border-box;
            text-rendering: optimizeLegibility;
            transition: background 0.5s ease;
        }

        body.sunday-special {
            background-image: linear-gradient(45deg, #2c2c2c 25%, transparent 25%), linear-gradient(-45deg, #2c2c2c 25%, transparent 25%), linear-gradient(45deg, transparent 75%, #2c2c2c 75%), linear-gradient(-45deg, transparent 75%, #2c2c2c 75%);
            background-color: #1a1a1a;
        }

        header {
            width: 100%;
            max-width: 1400px;
            padding-bottom: 20px;
            text-align: center;
        }
        
        #logo-container {
            width: clamp(300px, 40vw, 550px);
            margin: 0 auto;
        }

        #logo-svg {
            width: 100%;
            height: auto;
            filter: drop-shadow(3px 3px 4px #000);
        }

        #sunday-title {
            display: none;
            font-family: 'Shrikhand', cursive;
            font-size: clamp(1.5rem, 4vw, 2.5rem);
            color: var(--gold-color);
            text-shadow: 2px 2px 3px #000;
            margin-top: -15px;
            margin-bottom: 10px;
        }
        body.sunday-special #sunday-title {
            display: block;
        }

        #tv-container {
            width: 100%;
            max-width: 1400px;
            background-color: #5a3825;
            background-image: 
                repeating-linear-gradient(45deg, transparent, transparent 10px, rgba(255,255,255,0.02) 10px, rgba(255,255,255,0.02) 20px),
                linear-gradient(to bottom, #5a3825, #4a2c2a);
            border: 15px solid var(--bg-dark-wood);
            border-radius: 40px;
            box-shadow: 0 0 20px rgba(0,0,0,0.7), inset 0 0 15px rgba(0,0,0,0.5);
            padding: 25px;
            box-sizing: border-box;
            display: flex;
            flex-direction: column;
        }

        #screen {
            background-color: #1f2833;
            border-radius: 20px;
            box-shadow: inset 0 0 25px rgba(0,0,0,0.9);
            width: 100%;
            padding: clamp(10px, 2vw, 20px);
            box-sizing: border-box;
            display: flex;
            flex-direction: column;
            gap: 20px;
            position: relative;
            overflow: hidden;
        }

        #screen::before {
            content: '';
            position: absolute;
            top: 0;
            left: 0;
            width: 100%;
            height: 100%;
            background-image: repeating-linear-gradient(rgba(0, 0, 0, 0.2) 0, rgba(0, 0, 0, 0.2) 2px, transparent 2px, transparent 4px);
            pointer-events: none;
            z-index: 1;
        }
        
        #game-area {
            display: flex;
            gap: 20px;
            flex-grow: 1;
            position: relative;
            z-index: 2;
        }

        #puzzle-section {
            flex: 3;
            display: flex;
            flex-direction: column;
            justify-content: flex-start;
            align-items: center;
            gap: 10px;
            min-width: 0;
        }

        #puzzle-category {
            background-color: rgba(0,0,0,0.3);
            color: var(--font-color-light);
            padding: 10px 20px;
            border-radius: 10px;
            font-size: clamp(1rem, 2vw, 1.5rem);
            border: 2px solid var(--gold-color);
            font-weight: 700;
            text-transform: uppercase;
            text-align: center;
            transition: all 0.3s ease;
        }
        #puzzle-category.golden {
            border-color: #FFD700;
            box-shadow: 0 0 15px #FFD700;
            color: #FFD700;
        }

        #round-info-container {
            background-color: rgba(0, 0, 0, 0.4);
            border: 1px solid var(--tile-border-color);
            border-radius: 8px;
            padding: 8px 15px;
            width: 90%;
            max-width: 500px;
            text-align: center;
            box-shadow: inset 0 0 5px rgba(0,0,0,0.5);
            display: flex;
            justify-content: space-around;
            align-items: center;
            flex-wrap: wrap;
            gap: 5px 20px;
        }
        #round-display {
            font-size: 1rem;
            font-weight: 700;
            color: var(--font-color-light);
        }
        #hour-block-display {
            font-size: 0.9rem;
            color: #ccc;
            font-style: italic;
        }
        
        #copyright-notice {
            width: 100%;
            text-align: center;
            font-size: 0.8rem;
            color: #aaa;
            margin-top: 8px;
            font-style: italic;
        }

        #puzzle-board {
            display: flex;
            flex-direction: column;
            gap: 5px;
            width: 100%;
            margin-top: auto; 
            margin-bottom: auto;
        }
        .puzzle-row {
            display: flex;
            justify-content: center;
            gap: 5px;
            width: 100%;
        }
        .puzzle-tile {
            width: clamp(35px, 5.5vw, 50px);
            height: clamp(45px, 7vw, 65px);
            perspective: 1000px;
        }
        
        .tile-inner {
            position: relative;
            width: 100%;
            height: 100%;
            transition: transform 0.6s;
            transform-style: preserve-3d;
        }
        .puzzle-tile.revealed .tile-inner {
            transform: rotateY(180deg);
        }
        
        .tile-face {
            position: absolute;
            width: 100%;
            height: 100%;
            -webkit-backface-visibility: hidden;
            backface-visibility: hidden;
            display: flex;
            justify-content: center;
            align-items: center;
            border-radius: 5px;
            box-shadow: inset 0 0 5px rgba(0,0,0,0.5);
        }

        .tile-front {
            background-color: var(--tile-green);
            border: 2px solid var(--tile-border-color);
            box-shadow: inset 0 0 5px rgba(0,0,0,0.5), 0 0 4px rgba(125, 157, 156, 0.4);
        }

        @keyframes flash-effect {
            0%, 100% {
                box-shadow: inset 0 0 5px rgba(0,0,0,0.5), 0 0 4px rgba(125, 157, 156, 0.4);
                border-color: var(--tile-border-color);
            }
            50% {
                box-shadow: 0 0 15px 5px var(--gold-color), inset 0 0 5px rgba(0,0,0,0.5);
                border-color: var(--gold-color);
            }
        }
        .tile-front.flashing {
            animation: flash-effect 1.2s ease-in-out;
        }


        .tile-back {
            background-color: var(--font-color-light);
            color: var(--font-color-dark);
            font-weight: 700;
            font-size: clamp(1.5rem, 4vw, 2.5rem);
            transform: rotateY(180deg);
            text-shadow: 1px 1px 2px var(--gold-color);
            transition: text-shadow 0.3s;
        }
        .tile-back.golden-letter-glow {
            text-shadow: 0 0 5px #fff, 0 0 10px var(--gold-color), 0 0 15px var(--gold-color);
        }
        .puzzle-tile.space {
             background-color: transparent;
             box-shadow: none;
             border: none;
        }
        .puzzle-tile.space .tile-inner {
             display: none;
        }

        .puzzle-tile.special-char {
            background-color: var(--font-color-light);
            color: var(--font-color-dark);
            font-weight: 700;
            font-size: clamp(1.5rem, 4vw, 2.5rem);
            border-radius: 5px;
            display: flex;
            justify-content: center;
            align-items: center;
        }
        .puzzle-tile.special-char .tile-inner {
            display: none;
        }

        .puzzle-tile.lucky-reveal .tile-back {
            animation: lucky-glow 1.5s ease-out;
        }
        @keyframes lucky-glow {
            0% { box-shadow: 0 0 5px #fff, 0 0 10px #fff, 0 0 15px var(--gold-color); }
            50% { box-shadow: 0 0 20px var(--gold-color), 0 0 30px var(--gold-color), 0 0 40px #fff2a8; transform: scale(1.1); }
            100% { box-shadow: inset 0 0 5px rgba(0,0,0,0.5); transform: scale(1); }
        }

        #alphabet-panel {
            display: flex;
            flex-wrap: wrap;
            justify-content: center;
            gap: 5px;
            background-color: rgba(0,0,0,0.2);
            padding: 10px;
            border-radius: 10px;
        }
        .alphabet-key {
            width: 35px;
            height: 35px;
            font-family: 'Roboto Slab', serif;
            font-weight: 700;
            font-size: 1rem;
            border: 1px solid var(--bg-dark-wood);
            border-bottom: 3px solid var(--bg-dark-wood);
            border-right: 3px solid var(--bg-dark-wood);
            border-radius: 5px;
            cursor: pointer;
            background-color: var(--font-color-light);
            color: var(--font-color-dark);
            box-shadow: 1px 1px 3px rgba(0,0,0,0.5);
            transition: all 0.1s ease;
        }
        .alphabet-key.vowel {
            border-color: #2196f3;
            border-bottom-color: #1565c0;
            border-right-color: #1565c0;
        }
        .alphabet-key:hover:not(:disabled) {
            background-color: var(--gold-color);
        }
        .alphabet-key:active:not(:disabled) {
            transform: translateY(2px);
            border-bottom-width: 1px;
            border-right-width: 1px;
        }
        .alphabet-key:disabled {
            background-color: #616161;
            color: #bdbdbd;
            cursor: not-allowed;
            opacity: 0.7;
        }

        #game-controls-section {
            flex: 2;
            display: flex;
            flex-direction: column;
            justify-content: space-around;
            align-items: center;
            gap: 15px;
        }

        #wheel-wrapper {
            position: relative;
            width: clamp(280px, 40vh, 380px);
            aspect-ratio: 1 / 1;
        }

        #wheel-pointer {
            width: 0;
            height: 0;
            border-left: 15px solid transparent;
            border-right: 15px solid transparent;
            border-top: 30px solid var(--pointer-red);
            position: absolute;
            top: -15px;
            left: 50%;
            transform: translateX(-50%);
            z-index: 10;
            filter: drop-shadow(2px 2px 2px rgba(0,0,0,0.5));
            border-radius: 3px;
            background: linear-gradient(to top, #c01a21, #f02e35);
            border-top: 30px solid #d92027;
            clip-path: polygon(50% 0%, 0% 100%, 100% 100%);
            box-shadow: inset 0 2px 2px rgba(255,255,255,0.4);
        }
        
        #wheel {
            width: 100%;
            height: 100%;
            transition: transform 5s cubic-bezier(0.2, 0.8, 0.25, 1);
            filter: drop-shadow(3px 3px 5px rgba(0,0,0,0.5));
            border-radius: 50%;
            box-shadow: inset 0 0 15px rgba(0,0,0,0.7);
        }
        
        #wheel-hub {
            cursor: pointer;
            transition: opacity 0.2s ease;
        }
        #wheel-hub.disabled {
            cursor: not-allowed;
            opacity: 0.6;
        }
        #power-bar {
            transform: rotate(-90deg);
            transform-origin: 50% 50%;
        }
        
        @keyframes wheel-flash {
            0%, 100% { filter: brightness(1); }
            16%, 48%, 80% { filter: brightness(2.5) drop-shadow(0 0 8px white); }
            32%, 64%, 96% { filter: brightness(1); }
        }
        .flashing-segment {
            animation: wheel-flash 0.9s ease-in-out;
        }

        #all-huds-container {
             display: flex;
             flex-direction: row;
             justify-content: center;
             align-items: stretch;
             gap: 15px;
             flex-wrap: wrap;
             width: 100%;
             max-width: 750px;
             margin: 0 auto;
        }

        .player-hud {
            flex: 1;
            min-width: 180px;
            display: flex;
            flex-direction: column;
            align-items: center;
            justify-content: center;
            gap: 5px;
            background: rgba(0,0,0,0.3);
            padding: 10px 15px;
            border-radius: 10px;
            border: 2px solid var(--gold-color);
            text-align: center;
        }

        .hud-label {
            font-size: clamp(0.9rem, 1.5vw, 1rem);
            color: var(--font-color-light);
            font-weight: 700;
            margin-bottom: 5px;
            display: flex;
            align-items: center;
            gap: 8px;
        }
        #millionaire-icon {
            display: none;
            font-size: 1.5rem;
            animation: pulse 2s infinite;
        }
        body.millionaire-active #millionaire-icon {
            display: inline-block;
        }

        #score-display, #hourly-winnings-display, #round-winnings-display {
            font-size: clamp(1.6rem, 3vw, 2rem);
            color: var(--gold-color);
            font-weight: 700;
            text-shadow: 2px 2px 2px #000;
            line-height: 1;
        }
        
        #round-winnings-display {
            color: #a7c5eb;
        }

        #main-prize-progress {
            background-color: rgba(247, 183, 51, 0.1);
            border: 1px solid rgba(247, 183, 51, 0.5);
            color: #f4e9d8;
            padding: 8px;
            border-radius: 8px;
            width: 90%;
            max-width: 400px;
            text-align: center;
            font-size: 0.9rem;
            display: none;
        }
        #main-prize-progress strong {
            color: var(--gold-color);
        }

        #won-prize-container {
            display: none;
            flex-direction: column;
            align-items: center;
            background-color: rgba(0,0,0,0.4);
            border: 2px solid var(--special-prize-color);
            border-radius: 10px;
            padding: 8px 15px;
            margin-top: 10px;
            width: 90%;
            max-width: 350px;
            text-align: center;
        }
        #won-prize-container .prize-label {
            font-size: 0.8rem;
            text-transform: uppercase;
            color: #ddd;
        }
        #won-prize-container .prize-name {
            font-size: 1.1rem;
            font-weight: bold;
            color: var(--special-prize-color);
            text-shadow: 1px 1px 2px #000;
        }
        
        #host-message {
            background: rgba(0,0,0,0.2);
            border: 2px solid rgba(244, 233, 216, 0.5);
            color: white;
            padding: 10px;
            border-radius: 10px;
            min-height: 4em;
            text-align: center;
            font-size: clamp(0.9rem, 1.5vw, 1.1rem);
            display: flex;
            align-items: center;
            justify-content: center;
            width: 100%;
            max-width: 400px;
        }
        #host-message strong { color: var(--gold-color); }
        #host-message a {
            color: var(--gold-color);
            text-decoration: underline;
            font-weight: bold;
            cursor: pointer;
        }

        #action-buttons {
            display: flex;
            gap: 10px;
            justify-content: center;
            width: 100%;
            flex-wrap: wrap;
        }
        .action-btn {
            padding: 12px 15px;
            font-family: 'Roboto Slab', serif;
            font-weight: 700;
            font-size: clamp(0.8rem, 2vw, 1rem);
            border-radius: 8px;
            border: 1px solid var(--bg-dark-wood);
            border-bottom: 4px solid var(--bg-dark-wood);
            box-shadow: 2px 2px 5px rgba(0,0,0,0.5);
            cursor: pointer;
            transition: all 0.1s ease;
            text-transform: uppercase;
            flex-grow: 1;
            max-width: 150px;
        }
        .action-btn:hover:not(:disabled) { filter: brightness(1.1); }
        .action-btn:active:not(:disabled) { transform: translateY(3px); border-bottom-width: 1px; }
        .action-btn:disabled { opacity: 0.5; cursor: not-allowed; }
        
        #solve-button { background-color: var(--gold-color); color: var(--font-color-dark); }
        #new-game-button { background-color: #607d8b; color: white; margin-top: 10px; width: 100%; max-width: 310px;}
        
        #rules-container {
            background-color: var(--bg-wood);
            color: var(--font-color-light);
            padding: 20px;
            margin-top: 20px;
            width: 100%;
            max-width: 1400px;
            border-radius: 15px;
            border: 5px solid var(--bg-dark-wood);
            box-shadow: 0 0 15px rgba(0,0,0,0.5);
        }
        #rules-container h2 { font-family: 'Shrikhand', cursive; color: var(--gold-color); text-align: center; margin-top: 0; text-shadow: 2px 2px 2px #000; }
        #rules-container ul { list-style-type: none; padding: 0; }
        #rules-container li { margin-bottom: 12px; padding-left: 30px; position: relative; line-height: 1.4; }
        #rules-container li::before {
            font-family: -apple-system, BlinkMacSystemFont, "Segoe UI", Roboto, Helvetica, Arial, sans-serif;
            font-size: 1.2rem;
            position: absolute;
            left: 0;
            top: 0;
        }
        #rules-container li.goal::before { content: '🎯'; }
        #rules-container li.gameplay::before { content: '🔄'; }
        #rules-container li.wheel::before { content: '🎡'; }
        #rules-container li.week::before { content: '🗓️'; }
        #rules-container li.sunday::before { content: '🌟'; }
        #rules-container li.millionaire::before { content: '👑'; }
        #rules-container li.main-prize::before { content: '🏆'; }
        #rules-container strong { color: var(--gold-color); font-weight: 700; }

        .modal-overlay {
            position: fixed; top: 0; left: 0; width: 100%; height: 100%;
            background: rgba(0,0,0,0.7); display: flex;
            justify-content: center; align-items: center; z-index: 1000;
            opacity: 0; visibility: hidden; transition: opacity 0.3s ease, visibility 0.3s ease;
        }
        .modal-overlay.visible { opacity: 1; visibility: visible; }
        .modal-content {
            background-color: var(--bg-wood); padding: 30px;
            border-radius: 15px; border: 5px solid var(--bg-dark-wood);
            box-shadow: 0 5px 25px rgba(0,0,0,0.7); text-align: center;
            color: var(--font-color-light); width: 90%; max-width: 500px;
            transform: scale(0.9); transition: transform 0.3s ease;
        }
        .modal-overlay.visible .modal-content { transform: scale(1); }
        .modal-content h3 {
            font-family: 'Shrikhand', cursive; color: var(--gold-color);
            margin-top: 0; font-size: 2rem; text-shadow: 2px 2px 2px #000;
        }
        .modal-content p { font-size: 1.1rem; margin-bottom: 20px; line-height: 1.5; }
        .modal-input {
            width: 100%; padding: 10px; font-size: 1.2rem;
            border-radius: 5px; border: 2px solid var(--gold-color);
            background: var(--font-color-light); color: var(--font-color-dark);
            box-sizing: border-box; margin-bottom: 20px; text-transform: uppercase;
        }
        .modal-buttons { display: flex; gap: 15px; justify-content: center; flex-wrap: wrap; }
        .modal-btn {
            padding: 12px 25px; font-family: 'Roboto Slab', serif;
            font-weight: 700; font-size: 1rem; border-radius: 8px;
            border: 1px solid var(--bg-dark-wood); border-bottom: 4px solid var(--bg-dark-wood);
            box-shadow: 2px 2px 5px rgba(0,0,0,0.5); cursor: pointer;
            transition: all 0.1s ease; text-transform: uppercase;
        }
        .modal-btn.confirm { background-color: var(--gold-color); color: var(--font-color-dark); }
        .modal-btn.cancel { background-color: #607d8b; color: white; }
        
        #main-prize-modal {
            position: fixed; top: 0; left: 0; width: 100%; height: 100%;
            background: rgba(0,0,0,0.9); z-index: 2000;
            display: none; flex-direction: column; justify-content: center;
            align-items: center; color: white; padding: 20px; box-sizing: border-box;
        }
        #main-prize-title {
            font-family: 'Shrikhand', cursive; font-size: clamp(2rem, 8vw, 4rem);
            color: var(--gold-color); text-shadow: 3px 3px 5px #000; margin-bottom: 20px;
        }
        #main-prize-board .puzzle-tile { width: clamp(40px, 6vw, 60px); height: clamp(50px, 8vw, 75px); }
        #main-prize-board .tile-back { font-size: clamp(2rem, 5vw, 3rem); }
        #main-prize-given-letters { margin-top: 20px; font-size: 1.2rem; }
        #main-prize-timer {
            font-size: clamp(3rem, 12vw, 6rem); font-weight: 700;
            color: var(--gold-color); margin: 10px 0; text-shadow: 2px 2px 4px #000;
        }
        #main-prize-timer.timer-low { color: var(--pointer-red); animation: pulse 1s infinite; }
        @keyframes pulse { 0% { transform: scale(1); } 50% { transform: scale(1.05); } 100% { transform: scale(1); } }
        #main-prize-confirm-btn { width: 100%; max-width: 600px; padding: 15px; font-size: 1.2rem; }
        #main-prize-alphabet-panel-container { margin-top: 20px; width: 100%; max-width: 600px; }
        
        @media (max-width: 900px) {
            body { padding: 10px; }
            #tv-container { padding: 15px; border-width: 10px; border-radius: 20px; }
            #screen { padding: 10px; border-radius: 10px; gap: 15px; }
            #game-area { flex-direction: column; align-items: center; gap: 25px; }
            #puzzle-section { width: 100%; }
            #game-controls-section { width: 100%; max-width: 450px; }
            #puzzle-board { gap: 4px; } .puzzle-row { gap: 4px; }
            .puzzle-tile { width: clamp(28px, 6.5vw, 45px); height: clamp(38px, 8.5vw, 55px); }
            .tile-back { font-size: clamp(1.2rem, 5vw, 2.2rem); }
            .alphabet-key { width: 32px; height: 32px; font-size: 0.9rem; }
            #wheel-wrapper { width: clamp(260px, 75vw, 350px); }
            #host-message { min-height: 3em; font-size: clamp(0.85rem, 3vw, 1rem); }
            #rules-container { padding: 15px; }
            #rules-container h2 { font-size: 1.8rem; } #rules-container li { font-size: 0.9rem; }
            #round-display { font-size: 0.9rem; } #hour-block-display { font-size: 0.8rem; }
            
            #all-huds-container {
                flex-direction: column;
                align-items: center;
            }
            .player-hud {
                width: 90%;
                max-width: 350px;
            }
        }

        @media (max-width: 480px) {
            body { padding: 5px; }
            #tv-container { padding: 5px; border-width: 8px; }
            #logo-container { width: clamp(280px, 80vw, 320px); }
            .puzzle-row { gap: 3px; }
            .puzzle-tile { width: clamp(24px, 6vw, 35px); height: clamp(32px, 8vw, 45px); }
            .alphabet-key { width: calc(10% - 5px); height: 30px; font-size: 0.8rem; padding: 0; }
            #alphabet-panel { gap: 4px; padding: 8px; }
            .action-btn { padding: 10px 12px; font-size: 0.75rem; }
            .player-hud { padding: 5px 15px; }
            #score-display, #hourly-winnings-display, #round-winnings-display { font-size: clamp(1.5rem, 5vw, 2rem); }
        }
    </style>
</head>
<body>
    <header>
        <div id="logo-container">
            <svg id="logo-svg" viewBox="0 0 500 150">
                <defs>
                    <style>@import url('https://fonts.googleapis.com/css2?family=Great+Vibes&family=Bevan&display=swap');</style>
                    <linearGradient id="chromeGradient" x1="0%" y1="0%" x2="0%" y2="100%"><stop offset="0%" style="stop-color:#d0d0d0; stop-opacity:1" /><stop offset="30%" style="stop-color:#f0f0f0; stop-opacity:1" /><stop offset="50%" style="stop-color:#a0a0a0; stop-opacity:1" /><stop offset="100%" style="stop-color:#707070; stop-opacity:1" /></linearGradient>
                    <linearGradient id="goldGradient" x1="0%" y1="0%" x2="0%" y2="100%"><stop offset="0%" style="stop-color:#fff2a8; stop-opacity:1" /><stop offset="50%" style="stop-color:#f7b733; stop-opacity:1" /><stop offset="100%" style="stop-color:#e69a00; stop-opacity:1" /></linearGradient>
                    <filter id="glow"><feGaussianBlur stdDeviation="3.5" result="coloredBlur"/><feMerge><feMergeNode in="coloredBlur"/><feMergeNode in="SourceGraphic"/></feMerge></filter>
                </defs>
                <text x="250" y="70" font-family="'Great Vibes', cursive" font-size="65" fill="url(#goldGradient)" text-anchor="middle" stroke="#412A18" stroke-width="1" filter="url(#glow)">Békebeli</text>
                <text x="250" y="120" font-family="'Bevan', cursive" font-size="42" fill="#1E1E1E" text-anchor="middle" transform="translate(4, 4)" opacity="0.6" letter-spacing="2">SZERENCSEKERÉK</text>
                <text x="250" y="120" font-family="'Bevan', cursive" font-size="42" fill="url(#chromeGradient)" stroke="#222" stroke-width="1.5" text-anchor="middle" letter-spacing="2">SZERENCSEKERÉK</text>
                <text x="250" y="120" font-family="'Bevan', cursive" font-size="42" fill="white" opacity="0.4" text-anchor="middle" letter-spacing="2" clip-path="polygon(0 0, 100% 0, 100% 45%, 0 45%)">SZERENCSEKERÉK</text>
            </svg>
        </div>
        <h2 id="sunday-title">Szerencse Vasárnap</h2>
    </header>
    <div id="tv-container">
        <div id="screen">
            <div id="game-area">
                <section id="puzzle-section">
                    <div id="puzzle-category"></div>
                    <div id="round-info-container">
                        <div id="round-display"></div>
                        <div id="hour-block-display"></div>
                    </div>
                    <div id="copyright-notice">© Copyright by: Robi</div>
                    <div id="puzzle-board"></div>
                    <div id="alphabet-panel"></div>
                </section>
                <section id="game-controls-section">
                     <div id="all-huds-container">
                        <div id="main-hud" class="player-hud">
                            <div class="hud-label"><span id="millionaire-icon">👑</span><span id="main-hud-label">Teljes Nyeremény</span></div>
                            <div id="score-display">0 Ft</div>
                        </div>
                        <div id="hourly-hud" class="player-hud">
                            <div class="hud-label">Ebben az órában</div>
                            <div id="hourly-winnings-display">0 Ft</div>
                        </div>
                        <div id="round-winnings-hud" class="player-hud">
                            <div class="hud-label">Ebben a fordulóban:</div>
                            <div id="round-winnings-display">0 Ft</div>
                        </div>
                    </div>
                     <div id="main-prize-progress"></div>
                    <div id="won-prize-container">
                        <div class="prize-label">Az Ön Különdíja</div>
                        <div id="won-prize-name" class="prize-name"></div>
                    </div>
                    <div id="wheel-wrapper">
                        <div id="wheel-pointer"></div>
                        <svg id="wheel" viewBox="0 0 100 100"></svg>
                    </div>
                    <div id="host-message">Üdvözlöm a stúdióban! Kezdéshez kattintson a kerék közepére!</div>
                    <div id="action-buttons">
                        <button id="solve-button" class="action-btn">Megfejtem</button>
                        <button id="new-game-button" class="action-btn">Új Játék</button>
                    </div>
                </section>
            </div>
        </div>
    </div>

    <div id="rules-container">
        <h2>Játékszabályzat</h2>
        <ul>
            <li class="goal"><strong>A Játék Célja:</strong> Gyűjtse a legtöbb pénzt a hét folyamán feladványok megfejtésével! Pörgessen a keréken, tippeljen betűket, és oldja meg a rejtvényeket, hogy növelje a Heti Kasszáját.</li>
            <li class="gameplay"><strong>A Játék Menete:</strong> Minden forduló egy új feladvánnyal kezdődik. A játékos pörget a szerencsekeréken a kerék közepére kattintva, hogy meghatározza egy helyes mássalhangzó értékét. Ha a tippelt betű szerepel a feladványban, a pörgetett összeg annyiszor kerül jóváírásra, ahány darab van belőle. A forduló sikeres megfejtéséért egy fix, fordulónként emelkedő bónusz is jár. A játékos vásárolhat magánhangzókat (maximum 5-öt fordulónként) a körben szerzett pénzből, vagy megpróbálhatja megfejteni a feladványt.</li>
            <li class="wheel"><strong>Különleges Mezők a Keréken:</strong> A pénzösszegeken kívül a kerék tartalmaz különleges mezőket is: <strong>CSŐD</strong> (elveszti a fordulós nyereményt), <strong>DUPLA VAGY SEMMI</strong> (egy mássalhangzóval duplázhatja vagy elveszítheti a fordulós pénzét), és a <strong>KÜLÖNDÍJ</strong> (retro tárgynyeremény vagy annak értékének fele készpénzben).</li>
            <li class="week"><strong>Heti Ciklus:</strong> A játék hétfőtől vasárnapig tart. A hétfőtől szombatig gyűjtött nyeremények a <strong>Heti Kasszába</strong> kerülnek. Ez a kassza minden hétfőn nullázódik, így minden hét egy új kihívás.</li>
            <li class="sunday"><strong>Szerencse Vasárnap:</strong> A vasárnap a hét fénypontja! Ezen a napon a Heti Kasszában összegyűjtött pénzével játszik. Minden forduló elején <strong>tétet kell tennie</strong> ebből az összegből. Ha sikeresen megfejti a feladványt, a tét visszajár, és a fordulós nyeremény a bónusszal együtt hozzáadódik a kasszához. Ha azonban CSŐDÖT pörget, nemcsak a fordulós pénzét, de a feltett tétet is elveszíti! A Heti Kassza sosem mehet 0 alá.</li>
            <li class="main-prize"><strong>🏆 Fődíj Játék:</strong> Ha egy órán belül mind a 10 feladványt megfejti és legalább <strong>150.000 Ft</strong>-ot gyűjt, esélyt kap a Fődíj Játékra. Ha nincs meg a küszöb, de a teljes vagyonából ki tudja pótolni, akkor is játszhat. A játékban az óra alatt gyűjtött teljes összegét kockáztatja. Egy feladvány, 5 választott mássalhangzó, 1 magánhangzó és 30 másodperc a megfejtésre! A győzelem <strong>dupla pénzt</strong> ér, a vereség pedig az egész órai nyeremény elvesztésével jár.</li>
            <li class="millionaire"><strong>A Hét Milliomosa:</strong> Az a játékos, aki a vasárnapi játék végén <strong>1.000.000 Ft feletti</strong> összeggel zárja a Heti Kasszát, elnyeri "A Hét Milliomosa" címet! Jutalmul a következő héten egy 👑 korona ikon díszíti a nevét, jelezve dicsőségét.</li>
        </ul>
    </div>

    <div id="custom-modal" class="modal-overlay">
        <div class="modal-content">
            <h3 id="modal-title">Megfejtés</h3>
            <p id="modal-text">Kérem a teljes megfejtést:</p>
            <input type="text" id="solve-input" class="modal-input" autocomplete="off">
            <div class="modal-buttons">
                
            </div>
        </div>
    </div>
    
    <div id="main-prize-modal">
        <h2 id="main-prize-title">Fődíj Játék</h2>
        <div id="main-prize-category"></div>
        <div id="main-prize-board" class="puzzle-board"></div>
        <div id="main-prize-given-letters"></div>
        <div id="main-prize-timer">30</div>
        <p id="main-prize-instructions">Adja meg a megfejtést, mielőtt lejár az idő!</p>
        <div id="main-prize-alphabet-panel-container"></div>
        <input type="text" id="main-prize-solve-input" class="modal-input" autocomplete="off" placeholder="Ide írja a megfejtést...">
        <button id="main-prize-confirm-btn" class="modal-btn confirm">Megfejtem!</button>
    </div>

    <script>
        document.addEventListener('DOMContentLoaded', () => {
         const allPuzzles = [
    { 
        category: "TV Műsor", 
        puzzle: "A TENKES KAPITÁNYA", 
        info: "1963-ban bemutatott fekete-fehér magyar kalandfilmsorozat, mely a Rákóczi-szabadságharc idején játszódik. Zenthe Ferenc felejthetetlen alakításával vált a korszak egyik legnépszerűbb sorozatává.",
        hints: ["Zenthe Ferenc főszereplésével", "Kuruc-labanc küzdelmek"]
    },
    { 
        category: "Társasjáték", 
        puzzle: "GAZDÁLKODJ OKOSAN", 
        info: "A Közgazdasági és Jogi Könyvkiadó Vállalat klasszikus társasjátéka 1966-ból, ami a szocialista polgári lét megteremtését tanította játékos formában. A cél a lakás berendezése és a takarékos élet volt.",
        hints: ["Lakástextil utalvány", "Vigyázz, el ne törd a lábad!"]
    },
    { 
        category: "Televíziós vetélkedő", 
        puzzle: "KI MIT TUD", 
        info: "A Magyar Televízió 1962-től sugárzott kulturális tehetségkutató versenye, ami rengeteg későbbi sztárt indított el a pályáján, többek között Koncz Zsuzsát, Kovács Katit és a Hungária együttest.",
        hints: ["Tehetségkutató a Magyar Televízióban", "Generációk indultak innen a hírnév felé"]
    },
    { 
        category: "Reklám Szlogen", 
        puzzle: "FABULON A BŐR BARÁTJA", 
        info: "A Kőbányai Gyógyszerárugyár ikonikus kozmetikai márkájának felejthetetlen szlogenje. A reklámarcok között volt a korszak leghíresebb modelljei, Pataki Ági és Sütő Enikő is.",
        hints: ["Kozmetikai termék", "Pataki Ági volt az egyik arca"]
    },
    { 
        category: "Teleregény", 
        puzzle: "SZOMSZÉDOK", 
        info: "A Magyar Televízió 1987 és 1999 között futó teleregénye, ami egy gazdagréti panelház lakóinak mindennapjait mutatta be. Olyan karakterek lettek a nemzet kedvencei, mint Vágási Feri, Taki bácsi és Etus.",
        hints: ["Fejezetek az életünkből", "Egy gazdagréti panelház lakói"]
    },
    { 
        category: "Divat", 
        puzzle: "TRAPPER FARMER", 
        info: "A Május 1. Ruhagyár által gyártott, legendás magyar farmernadrág, a szocializmus válasza a nyugati Levis's-ra. Igazi státuszszimbólumnak számított a fiatalok körében.",
        hints: ["A magyar farmer", "Május 1. Ruhagyár terméke"]
    },
    { 
        category: "Zenei esemény", 
        puzzle: "TÁNCDALFESZTIVÁL", 
        info: "A Magyar Televízió könnyűzenei versenysorozata 1966 és 1994 között, mely a korszak legnagyobb slágereit és előadóit vonultatta fel. Generációk nőttek fel az itt elhangzó dalokon.",
        hints: ["Könnyűzenei verseny", "Itt hangzott el a 'Nem vagyok én apáca'"]
    },
    { 
        category: "Rajzfilm", 
        puzzle: "A MEZGA CSALÁD", 
        info: "Romhányi József és Nepp József klasszikus rajzfilmsorozata, amely egy pesti család vicces kalandjait követte nyomon, beleértve a jövőbeli leszármazottal, MZ/X-szel való kapcsolatfelvételt is.",
        hints: ["MZ/X a jövőből", "'Hogy az a macskakő!'"]
    },
    { 
        category: "Cipőmárka", 
        puzzle: "TISZA CIPŐ", 
        info: "A martfűi cipőgyár terméke, ami a '80-as években vált igazi kultikus viseletté a fiatalok körében. Az ikonikus 'T' betűs logó ma reneszánszát éli.",
        hints: ["Martfűi gyár terméke", "A '80-as évek sportos divatja"]
    },
    { 
        category: "Műszaki cikk", 
        puzzle: "VIDEOTON SUPER STAR", 
        info: "A székesfehérvári Videoton gyár egyik legelterjedtebb színes televízió készüléke a '80-as években. A családok gyakran éveken át spóroltak, hogy egy ilyen modern készülék kerülhessen a nappaliba.",
        hints: ["Színes televízió", "A család büszkesége volt"]
    },
    { 
        category: "TV Figura", 
        puzzle: "TÉVÉ MACI", 
        info: "A Magyar Televízió bájos bábfigurája, aki 1963-tól évtizedeken át az Esti mese szignálfilmjének főszereplője volt. Minden este pizsamában, fogkefével a mancsában jelezte a gyerekeknek, hogy itt az alvás ideje.",
        hints: ["Esti mese előtt jelent meg", "Fogmosásra buzdított"]
    },
    { 
        category: "Vásárlás", 
        puzzle: "CENTRUM ÁRUHÁZAK", 
        info: "Az állami tulajdonú áruházlánc a szocializmus alatt, amely a Skála mellett a legnagyobb volt. Szlogenje, 'A divat mindenkinek!', a korszak vásárlási lehetőségeit hirdette, még ha a választék nem is volt mindig bőséges.",
        hints: ["'A divat mindenkinek!'", "Nagy állami áruházlánc"]
    },
    { 
        category: "Édesség", 
        puzzle: "SPORT SZELET", 
        info: "Az 1953 óta gyártott, ikonikus magyar csokoládészelet. A rumos-kakaós íz és a jellegzetes zöld csomagolás generációk számára jelenti a 'legsportosabb' édességet, ami energiát ad.",
        hints: ["Rumos-kakaós ízvilág", "Zöld csomagolás"]
    },
    { 
        category: "Jármű", 
        puzzle: "TRABANT HAT SZÁZ EGY", 
        info: "Az NDK 'papírjaguárja', a szocialista autógyártás legismertebb modellje. Jellegzetes hangja, duroplast karosszériája és a kormányváltó egy egész korszak szimbólumává tették. Családok ezrei utaztak vele a Balatonra.",
        hints: ["Duroplast karosszéria", "Kétütemű motor"]
    },
    { 
        category: "Zene", 
        puzzle: "HUNGÁRIA EGYÜTTES", 
        info: "Fenyő Miklós vezetésével az egyik legnépszerűbb magyar rock and roll együttes. A jampis stílus, a pöttyös szoknyák és a fergeteges koncertek a '80-as években egy egész generációt mozgattak meg.",
        hints: ["Rock and roll a 'Csavard fel a szőnyeget!'", "Fenyő Miklós zenekara"]
    },
    { 
        category: "Ital", 
        puzzle: "MÁRKA MEGGY", 
        info: "A '70-es évektől gyártott szénsavas üdítőital, amelynek jellegzetes, piros címkés üvege és savanykás íze sokak kedvence volt. A Traubisoda és a Bambi mellett a korszak meghatározó frissítője.",
        hints: ["Szénsavas üdítőital", "Jellegzetes piros címkés üveg"]
    },
    { 
        category: "Háztartási eszköz", 
        puzzle: "RAKÉTA PORSZÍVÓ", 
        info: "A szovjet ipar remeke, egy szinte elpusztíthatatlan porszívó, ami minden magyar háztartásban megtalálható volt. Jellegzetes hangja és formája felejthetetlen.",
        hints: ["Szovjet gyártmány", "Jellegzetes hangja volt"]
    },
    { 
        category: "TV Műsor", 
        puzzle: "DELTA", 
        info: "A Magyar Televízió 1964-től sugárzott tudományos-ismeretterjesztő magazinja. Kudlik Júlia műsorvezetésével és a jellegzetes elektronikus főcímzenével vált a korszak egyik legnépszerűbb műsorává.",
        hints: ["Tudományos magazinműsor", "Kudlik Júlia vezette"]
    },
    { 
        category: "Játék", 
        puzzle: "MONCSICSI", 
        info: "A japán eredetű, ujjszopós majomfigura a '80-as években óriási népszerűségnek örvendett a gyerekek körében. Szinte mindenki szeretett volna egyet a KONSUMEX vagy a Dollárbolt kínálatából.",
        hints: ["Japán játékfigura", "Ujjszopós majom"]
    },
    { 
        category: "Édesség", 
        puzzle: "DUNAKAVICS", 
        info: "A Duna-Dráva Csemege Édesipari Vállalat pörkölt földimogyoróból készült, cukormázzal bevont drazséja. A jellegzetes, kavicsokra emlékeztető forma és a zacskóban csörgő hang a gyerekkor íze.",
        hints: ["Cukormázas drazsé", "Pörkölt földimogyoró a belseje"]
    },
    { 
        category: "Rajzfilm", 
        puzzle: "FRAKK A MACSKÁK RÉME", 
        info: "Bálint Ágnes írásából készült, 1971-es magyar rajzfilmsorozat. A vizsla és a két lusta macska, Lukrécia és Szerénke örökös civakodása Károly bácsi és Irma néni otthonában zajlott.",
        hints: ["Egy vizsla és két macska", "Károly bácsi a gazdája"]
    },
    { 
        category: "Közszereplő", 
        puzzle: "ANTAL IMRE", 
        info: "A Magyar Televízió egyik legnépszerűbb és legsokoldalúbb alakja, zongoraművész, műsorvezető. A Szeszélyes Évszakok házigazdájaként generációk számára jelentette a szombat esti szórakozást.",
        hints: ["Zongoraművész és műsorvezető", "A Szeszélyes Évszakok arca"]
    },
    { 
        category: "Ital", 
        puzzle: "BAMBI", 
        info: "Az első magyar szénsavas üdítőital, amely 1947-től hódított. Narancs ízű, csatos üveges frissítő volt, ami a '60-as évek végéig uralta a piacot, mielőtt a nyugatiasabb márkák megjelentek.",
        hints: ["Az első magyar üdítő", "Jellegzetes csatos üveg"]
    },
    { 
        category: "Esemény", 
        puzzle: "BUDAPESTI NEMZETKÖZI VÁSÁR", 
        info: "A BNV a Kádár-korszak legjelentősebb gazdasági és társadalmi eseménye volt, ahol a szocialista ipar bemutatta termékeit. A családok számára egyben egyfajta vidámpark is volt, tele újdonságokkal és árumintákkal.",
        hints: ["Röviden: BNV", "A szocialista ipar kirakata"]
    },
    { 
        category: "Tárgy", 
        puzzle: "SZÓDÁSSZIFON", 
        info: "A házi szikvíz készítésének elengedhetetlen eszköze. A fémből készült, jellegzetes formájú szifon és a hozzá tartozó patronok minden konyha alapfelszereléséhez tartoztak a fröccs és a szörpök mellé.",
        hints: ["Patron kellett hozzá", "Házilag készített szikvíz"]
    },
    { 
        category: "Zene", 
        puzzle: "NEOTON FAMÍLIA", 
        info: "A '70-es és '80-as évek egyik legnépszerűbb magyar pop-diszkó együttese, Csepregi Éva vezetésével. Olyan slágerek fűződnek a nevükhöz, mint a 'Don Quijote' vagy a 'Holnap hajnalig'.",
        hints: ["'Don Quijote' a slágerük", "Csepregi Éva az énekesnő"]
    },
    { 
        category: "Jármű", 
        puzzle: "CSEPEL CAMPING BICIKLI", 
        info: "A Csepel Művek legendás, összecsukható kerékpárja, amely a '70-es évektől vált népszerűvé. Kompakt mérete miatt könnyen elfért a Trabant csomagtartójában, ideális volt nyaralásokhoz.",
        hints: ["Összecsukható kerékpár", "Könnyen befért a Trabantba"]
    },
    { 
        category: "Közélet", 
        puzzle: "ÚTTÖRŐTÁBOR", 
        info: "A szocialista ifjúsági mozgalom nyári eseménye, ahol a gyerekek zászlós felvonulásokon, tábortűznél és különböző versenyeken vettek részt. A legismertebb a csillebérci és a zánkai tábor volt.",
        hints: ["Nyári gyerektábor", "Csillebérc és Zánka"]
    },
    { 
        category: "TV Műsor", 
        puzzle: "ZENEBUTIK", 
        info: "Juhász Előd legendás zenei műsora a Magyar Televízióban, amely a '80-as években a nyugati popzene legfontosabb forrása volt a vasfüggöny mögött. Itt láthattak a fiatalok először videoklipeket.",
        hints: ["Juhász Előd vezette", "Nyugati popzene a tévében"]
    },
    { 
        category: "Tárgy", 
        puzzle: "ALFÖLDI PAPUCS", 
        info: "A hódmezővásárhelyi Alföldi Porcelángyár terméke... Nem, dehogy! Ez egy kényelmes, jellegzetes formájú lábbeli volt, ami a korszak otthoni viseletének szerves részét képezte. Strapabíró és praktikus volt.",
        hints: ["Kényelmes otthoni lábbeli", "Hódmezővásárhelyen is gyártották"]
    },
    { 
        category: "Édesség", 
        puzzle: "TÉLI FAGYI", 
        info: "A szocialista édesipar egyik furcsa, de szeretett terméke. A tölcsérben nem valódi fagylalt, hanem egy cukros, habos krém volt csokoládébevonattal. Csak a nevében volt hideg, de télen is kapható volt.",
        hints: ["Nem volt hideg", "Tölcséres édesség"]
    },
    { 
        category: "Rajzfilm", 
        puzzle: "VÍZIPÓK CSODAPÓK", 
        info: "A Kecskeméti Rajzfilmstúdió 1978-as alkotása, amely a vízi világ élőlényeit mutatta be egy barátságos pók és a keresztespók kalandjain keresztül. A sorozat a természetszeretetre nevelt.",
        hints: ["Keresztespók a barátja", "Víz alatti kalandok"]
    },
    { 
        category: "Jármű", 
        puzzle: "PANNÓNIA MOTORKERÉKPÁR", 
        info: "A Csepeli Motorkerékpárgyár ikonikus márkája, amely a '50-es évektől a '70-es évekig volt a magyar motorosok álma. A jellegzetes fekete szín és a krómozott tank egy egész korszakot idéz.",
        hints: ["Csepeli gyártmány", "Magyar motorkerékpár"]
    },
    { 
        category: "Műszaki cikk", 
        puzzle: "SOKOL RÁDIÓ", 
        info: "A szovjet gyártmányú, hordozható táskarádió a '60-as, '70-es években vált népszerűvé. A Balaton-parton vagy a telken ebből szólt a Szabad Európa Rádió, persze csak halkan.",
        hints: ["Szovjet táskarádió", "Hordozható volt"]
    },
    { 
        category: "TV Műsor", 
        puzzle: "TÉVÉTORNA", 
        info: "A Magyar Televízió reggeli tornaműsora 1975-től, Müller Kati és mások vezetésével. Célja az volt, hogy a képernyők előtt ülőket egy kis mozgásra bírja, mielőtt munkába indulnak.",
        hints: ["Reggeli tornagyakorlatok", "Müller Kati volt az egyik arca"]
    },
    { 
        category: "Édesség", 
        puzzle: "BALATON SZELET", 
        info: "A Diósgyőri Csokoládégyár ostyás, krémes csokoládéja, ami a nyaralások és kirándulások elengedhetetlen kelléke volt. A hullámokat idéző csomagolás és a ropogós íz egyet jelentett a Balatonnal.",
        hints: ["Ostyás csokoládé", "A nyaralások kedvence"]
    },
    { 
        category: "Híres mondás", 
        puzzle: "HÁROMSZOR KÖRÜLBICIKLIZEM A FÖLDET", 
        info: "Vitray Tamás ikonikus mondata, amit egy 12 órás úszóverseny közvetítése közben mondott. A fáradtságtól egyre szürreálisabbá váló kommentár a televíziózás aranykorának egyik vicces pillanata.",
        hints: ["Vitray Tamás mondta", "Egy 12 órás úszóversenyen hangzott el"]
    },
    { 
        category: "Rajzfilm", 
        puzzle: "MAGYAR NÉPMESÉK", 
        info: "A Kecskeméti Rajzfilmstúdió 1980-ban indult sorozata, amely a magyar mesekincs legjavát dolgozta fel. Jellegzetes motívumai és Szabó Gyula felejthetetlen narrációja a magyar kultúra részévé vált.",
        hints: ["'A szegény ember és a királylány'", "Jellegzetes főcímzene"]
    },
    { 
        category: "Háztartási gép", 
        puzzle: "HAJDÚ ENERGOMAT", 
        info: "A Hajdúsági Iparművek legendás keverőtárcsás mosógépe, amely forradalmasította a magyar háztartásokat. Bár néha 'elindult' a fürdőszobában, megbízhatósága legendás volt.",
        hints: ["Keverőtárcsás mosógép", "Néha 'elsétált' a fürdőszobában"]
    },
    { 
        category: "Étel", 
        puzzle: "PÁRIZSI SZELET", 
        info: "A klasszikus rántott hús olcsóbb, párizsival készült változata, ami gyakran szerepelt a menzák és a családok asztalán. A bundázott, sült felvágott a 'hiánygazdaság' egyik kreatív szüleménye.",
        hints: ["Rántott hús helyett", "Menzák kedvelt fogása"]
    },
    { 
        category: "Zene", 
        puzzle: "OMEGA EGYÜTTES", 
        info: "Az egyik leghíresebb magyar rockegyüttes, Kóbor János vezetésével. Olyan slágerekkel írták be magukat a történelembe, mint a 'Gyöngyhajú lány' vagy a 'Petróleumlámpa'.",
        hints: ["'Gyöngyhajú lány'", "Kóbor János volt az énekese"]
    },
    { 
        category: "Szórakozás", 
        puzzle: "DIAVETÍTŐ", 
        info: "A digitális kor előtti 'házimozi'. A gyerekek a sötét szobában a falra vetített mesefilmeket nézték, miközben a szülők olvasták a hozzá tartozó szöveget. A 'Tekerj még egyet!' mondat mindenkinek ismerős.",
        hints: ["Mesefilmek a falon", "'Tekerj még egyet!'"]
    },
    { 
        category: "Tárgy", 
        puzzle: "SKÁLA KÓPÉ", 
        info: "A Skála áruházlánc kabalafigurája, egy vidám, piros ruhás manó. A '70-es, '80-as években a figura mindenhol feltűnt, a reklámoktól kezdve a műanyag figurákig, és a vásárlás szinonimája lett.",
        hints: ["Áruházi kabalafigura", "Piros ruhás manócska"]
    },
    { 
        category: "TV Műsor", 
        puzzle: "LEGYEN SZERENCSÉD", 
        info: "A Magyar Televízió lottósorsolásokat közvetítő műsora a '70-es, '80-as években. A számok húzása egy egész nemzetet ültetett a képernyők elé, reménykedve a 'Tuti Tipp' beváltásában.",
        hints: ["Lottósorsolás a tévében", "A 'Tuti Tipp' itt derült ki"]
    },
    { 
        category: "Ital", 
        puzzle: "TRAUBISODA", 
        info: "Az osztrák licenc alapján gyártott, szőlőízű szénsavas üdítő a '70-es évektől vált Magyarország egyik legkedveltebb frissítőjévé. A jellegzetes zöld üveg és a 'Traubi' íz egyet jelentett a nyárral.",
        hints: ["Szőlőízű üdítő", "Osztrák licenc alapján készült"]
    },
    { 
        category: "Rajzfilm", 
        puzzle: "DOKTOR BUBÓ", 
        info: "Romhányi József zseniális, rímekbe szedett párbeszédekkel teletűzdelt rajzfilmsorozata egy bagoly orvosról és az erdő neurotikus állatairól. A felnőtteknek szóló áthallások miatt is rendkívül népszerű volt.",
        hints: ["'Kérem a következőt!'", "Egy bagoly az orvos"]
    },
    { 
        category: "Vásárlás", 
        puzzle: "KGST PIAC", 
        info: "A Kölcsönös Gazdasági Segítség Tanácsa (KGST) országai közötti kereskedelem népszerű formája. Ezeken a piacokon olyan 'nyugati' termékeket lehetett kapni, amiket az állami boltokban nem, például márkás farmert vagy kazettás magnót.",
        hints: ["Lengyel piacnak is hívták", "'Nyugati' áruk lelőhelye"]
    },
    { 
        category: "Édesség", 
        puzzle: "MACSKANYELV", 
        info: "A klasszikus, hosszúkás formájú tej- vagy étcsokoládé, ami elegáns ajándéknak számított. A dobozban sorakozó csokik a nagymamák vitrinjének elengedhetetlen kellékei voltak.",
        hints: ["Hosszúkás csokoládé", "Elegáns dobozban árulták"]
    },
    { 
        category: "Közlekedés", 
        puzzle: "ÚTTÖRŐVASÚT", 
        info: "A budai hegyekben közlekedő keskeny nyomtávú vasút, ahol a szolgálatot gyerekek, úttörők látták el. A vonatozás egyben egyfajta közösségi program és nevelési eszköz is volt.",
        hints: ["Gyerekek a vasutasok", "A budai hegyekben közlekedik"]
    },
    { 
        category: "Zene", 
        puzzle: "LOCOMOTIV GT", 
        info: "Az LGT az egyik legfontosabb magyar rockegyüttes, Presser Gábor vezetésével. Zenéjükben a rock, a jazz és a progresszív elemek keveredtek, olyan halhatatlan dalokat alkotva, mint a 'Neked írom a dalt'.",
        hints: ["Presser Gábor zenekara", "Röviden: LGT"]
    },
    { 
        category: "Tárgy", 
        puzzle: "BRG KAZETTÁS MAGNÓ", 
        info: "A Budapesti Rádiótechnikai Gyár (BRG) terméke, amely a '80-as években a zenehallgatás és a zenerögzítés legelterjedtebb eszköze volt. A nyugati slágerek másolása a rádióból egy egész generáció sportja volt.",
        hints: ["Magyar gyártmányú magnó", "Erről szólt a másolt zene"]
    },
    { 
        category: "Jármű", 
        puzzle: "WARTBURG KOCKA", 
        info: "Az NDK-s Wartburg 353-as modelljének népszerű neve, ami szögletes formájára utalt. A Trabantnál tágasabb és erősebb volt, így a tehetősebb családok autójaként vált ismertté.",
        hints: ["NDK autó", "Tágasabb volt, mint a Trabant"]
    },
    { 
        category: "TV Műsor", 
        puzzle: "ABRAKADABRA", 
        info: "Rodolfo, a híres magyar bűvész televíziós műsora. A 'Vigyázat, csalok!' felkiáltással kezdődő trükkjei ámulatba ejtették az egész országot, és népszerűvé tették a bűvészetet.",
        hints: ["Rodolfo bűvészműsora", "'Vigyázat, csalok!'"]
    },
    { 
        category: "Édesség", 
        puzzle: "FRANCIA DRAZSÉ", 
        info: "A Duna Csokoládégyár kakaós cukorkája, amely a mozik elengedhetetlen kelléke volt. A jellegzetes, papírhengeres csomagolás és a csörgő drazsék hangja összeforrt a filmnézés élményével.",
        hints: ["Kakaós cukorka", "A mozikban volt népszerű"]
    },
    { 
        category: "Híres mondás", 
        puzzle: "KAPCSOLJUK A KÖZPONTOT", 
        info: "A telefonközpontos kisasszonyok ikonikus mondata a manuális kapcsolás korából. Mielőtt az automata központok elterjedtek, a hívásokat manuálisan kellett összekötni, amihez türelem kellett.",
        hints: ["Telefonközpontos mondta", "Manuális kapcsolás idején"]
    },
    { 
        category: "Szórakozóhely", 
        puzzle: "IFJÚSÁGI PARK", 
        info: "A budai Várkert Bazár területén működő legendás szabadtéri szórakozóhely, ahol a '60-as, '70-es évek legnagyobb beat- és rockzenekarai léptek fel. A farmernadrág és a hosszú haj miatt sokszor volt konfliktus a rendfenntartókkal.",
        hints: ["Szabadtéri koncerthelyszín Budán", "A beatkorszak központja"]
    },
    { 
        category: "Divat", 
        puzzle: "ORKÁN KABÁT", 
        info: "A '70-es, '80-as évek jellegzetes, susogós, vízlepergető anyagból készült dzsekije. Praktikussága miatt rendkívül népszerű volt, bár a divat csúcsát nem képviselte, de mindenkin volt.",
        hints: ["Susogós anyagú dzseki", "Vízlepergető volt"]
    },
    { 
        category: "Tárgy", 
        puzzle: "SZÍNES CERUZA KÉSZLET", 
        info: "A KOH-I-NOOR vagy más márkájú, 12 vagy 24 darabos ceruzakészlet minden diák álma volt. A jellegzetes fémdoboz és a hegyezővel kihegyezett ceruzák illata az iskolakezdés szimbóluma volt.",
        hints: ["KOH-I-NOOR márka", "Minden diák táskájában ott volt"]
    },
    { 
        category: "Esemény", 
        puzzle: "MÁJUS ELSEJEI FELVONULÁS", 
        info: "A munka ünnepének kötelező állami rendezvénye, ahol a dolgozók transzparensekkel vonultak fel a tribünök előtt integető pártvezetőknek. A kötelező részvétel után jöhetett a virsli és a vidámpark.",
        hints: ["A munka ünnepe", "Virsli és sör a jutalom"]
    },
    { 
        category: "Étel", 
        puzzle: "LÁNGOS SAJTTAL TEJFÖLLEL", 
        info: "A strandok és piacok elmaradhatatlan, olajban sült tésztája, ami a magyar gasztronómia egyik alapköve. A fokhagymás, tejfölös és sajtos feltét a legnépszerűbb kombináció mind a mai napig.",
        hints: ["Strandok kedvenc étele", "Olajban sült tészta"]
    },
    { 
        category: "Kultikus Sorozat", 
        puzzle: "LINDA", 
        info: "Görbe Nóra főszereplésével készült krimivígjáték-sorozat egy rendőrlányról, aki karatéval és egy sárga Vespa robogóval oldotta meg a bűnügyeket. Bodrogi Gyula alakította az apját, a poénok és az akciójelenetek egyaránt legendássá tették.",
        hints: ["Veszprémi rendőrlány", "Sárga Vespa robogó"]
    },
    { 
        category: "Kultuszfilm", 
        puzzle: "A TANÚ", 
        info: "Bacsó Péter 1969-es filmje, amit sokáig dobozban tartottak. Pelikán József gátőr és a 'magyar narancs' története a Rákosi-korszak abszurd világának szatírája, tele szállóigévé vált mondatokkal.",
        hints: ["Pelikán József, gátőr", "'A nemzetközi helyzet fokozódik'"]
    },
    { 
        category: "Jármű", 
        puzzle: "IKARUS CSUKLÓS BUSZ", 
        info: "A 'harmonikás' buszként is ismert Ikarus 280-as modell a magyar városi tömegközlekedés ikonja volt. A jellegzetes hangja, a műbőr ülések és a csuklóban állás egy egész generáció utazási élményét határozta meg.",
        hints: ["Harmonikás busz", "A városok királya"]
    },
    { 
        category: "Vásárlás", 
        puzzle: "TUZEX ÁRUHÁZ", 
        info: "A 'dollárbolt', ahol nyugati valutáért vagy utalványért olyan kincseket lehetett kapni, mint a Lego, a Marlboro cigaretta vagy a Coca-Cola. Egy kis ablak volt a vasfüggönyön túli világra.",
        hints: ["A 'dollárbolt'", "Csak valutáért"]
    },
    { 
        category: "Retro Édesség", 
        puzzle: "KRUMPLICUKOR", 
        info: "Az egyik legegyszerűbb és legolcsóbb édesség, amit burgonyakeményítőből készítettek. Jellegzetes, téglalap alakú tömbökben árulták, és a szerény idők ízét idézi.",
        hints: ["Burgonyából készült", "Tömbökben árulták"]
    },
    { 
        category: "Számítógép", 
        puzzle: "COMMODORE HATVANNÉGY", 
        info: "A C64, vagyis a 'népszámítógép', amely a '80-as években forradalmasította az otthoni számítástechnikát. A játékokat kazettáról kellett percekig tölteni, miközben a képernyőn csíkok villogtak.",
        hints: ["A 'népszámítógép'", "Játékok kazettáról"]
    },
    { 
        category: "Rajzfilm", 
        puzzle: "A NAGY HO HO HORGÁSZ", 
        info: "Csukás István meséjéből készült báb- és rajzfilmsorozat a Főkukac és a horgászatért rajongó főszereplő kalandjairól. A jellegzetes 'Horgászni jó!' dal generációk fülében cseng.",
        hints: ["Főkukac a barátja", "'Horgászni jó!'"]
    },
    { 
        category: "Kultuszfilm", 
        puzzle: "INDUL A BAKTERHÁZ", 
        info: "Rideg Sándor regényéből készült 1979-es filmvígjáték. Bendegúz, a csintalan fiú és a bakter felejthetetlen kalandjai a tanyavilágban tele vannak humorral és szerethető karakterekkel.",
        hints: ["Bendegúz a főszereplő", "'Az a szép zöld gyep...'"]
    },
    { 
        category: "TV Műsor", 
        puzzle: "CIMBORA", 
        info: "A Magyar Televízió irodalmi és kulturális magazinja gyerekeknek, Juhász Jácint felejthetetlen műsorvezetésével. A műsor célja az olvasás és a kultúra megszerettetése volt a fiatalokkal.",
        hints: ["Irodalmi magazin gyerekeknek", "Juhász Jácint vezette"]
    },
    { 
        category: "Édesség", 
        puzzle: "LIMÓ POR", 
        info: "A kis zacskós, savanyú, pezsgő por, amit a gyerekek a tenyerükből nyalogattak, vagy vízben feloldva ittak. A citromos, narancsos és málnás íz a szocialista 'üdítőital-koncentrátum' volt.",
        hints: ["Savanyú, pezsgő por", "Kis zacskóban árulták"]
    },
    { 
        category: "Zenekar", 
        puzzle: "ILLÉS EGYÜTTES", 
        info: "A magyar beatkorszak legmeghatározóbb zenekara, Szörényi Levente és Bródy János vezetésével. Dalaik, mint a 'Ne gondold' vagy a 'Kéglidal', egy egész generáció életérzését fejezték ki.",
        hints: ["A magyar beatkorszak alapítói", "Bródy János írta a szövegeket"]
    },
    { 
        category: "Szolgáltatás", 
        puzzle: "PATYOLAT VÁLLALAT", 
        info: "Az állami mosoda és tisztító hálózat, ahová az ingeket, kabátokat és ágyneműket vitték az emberek. A jellegzetes fehér köpenyes dolgozók és a vegyi tisztítás szaga a korszak része volt.",
        hints: ["Állami mosoda és tisztító", "Fehér hattyú volt a logója"]
    },
    { 
        category: "Jármű", 
        puzzle: "ZSIGULI EZERÖTSZÁZAS", 
        info: "A szovjet autógyártás csúcsa, a Lada 1500-as modell, amely a '70-es, '80-as években a magyar utcakép meghatározója volt. A dupla kerek lámpák és a krómozott hűtőrács a siker jelképe volt.",
        hints: ["Dupla kerek lámpák", "A szovjet autógyártás csúcsa"]
    },
    { 
        category: "Film", 
        puzzle: "MACSKAFOGÓ", 
        info: "Ternovszky Béla 1986-os kultikus rajzfilmje, amely egy egér-macska kémparódia. A gengszterfilmeket idéző karakterek, a poénok és a szállóigévé vált mondatok felnőttek és gyerekek kedvencévé tették.",
        hints: ["Egerek és macskák harca", "Grabowski, a szuperkém"]
    },
    { 
        category: "Édesség", 
        puzzle: "SZERENCSI KAKAÓPOR", 
        info: "A Szerencsi Csokoládégyár terméke, a 'cicás' kakaó, ami minden magyar konyhában ott volt. A jellegzetes piros doboz a reggeli kakaó és a házi sütemények elengedhetetlen alapanyaga volt.",
        hints: ["'Cicás' kakaó", "Piros dobozos por"]
    },
    { 
        category: "Tárgy", 
        puzzle: "PAJTÁS FÉNYKÉPEZŐGÉP", 
        info: "A magyar ipar által gyártott, egyszerű, bakelit házas fényképezőgép, amely sok fiatal első kamerája volt. A fekete-fehér filmre készült képek a korszak emlékeit őrzik.",
        hints: ["Magyar gyártmányú kamera", "Sok fiatal első gépe volt"]
    },
    { 
        category: "Étel", 
        puzzle: "GLOBUS KONZERVEK", 
        info: "A Globus Zöldség- és Konzervgyár termékei, amelyek a készételek korszakát hozták el. A babgulyás, a székelykáposzta vagy a löncshús konzerv a nyaralások és a gyors vacsorák megmentője volt.",
        hints: ["Készételek fémdobozban", "Löncshús és babgulyás"]
    },
    { 
        category: "TV Műsor", 
        puzzle: "PUMUKLI KALANDJAI", 
        info: "Az NSZK-magyar koprodukcióban készült sorozat egy vörös hajú, láthatatlan koboldról és Éder mesterről, az asztalosról. Pumukli csínytevései és rímei a '80-as évek gyerekeinek kedvencei voltak.",
        hints: ["Egy láthatatlan kobold", "Éder mester műhelyében lakott"]
    },
    { 
        category: "Divat", 
        puzzle: "OTTHONKA", 
        info: "A háziasszonyok és nagymamák jellegzetes, praktikus ruhadarabja, egy ujjatlan, általában mintás köpenyruha. A kényelem és a praktikum szimbóluma volt a házimunka során.",
        hints: ["Háziasszonyok viselete", "Praktikus köpenyruha"]
    },
    { 
        category: "Zene", 
        puzzle: "KOVÁCS KATI", 
        info: "A Táncdalfesztiválok egyik legnagyobb sztárja, a korszak egyik legnépszerűbb és legsokoldalúbb énekesnője. Olyan slágerek fűződnek a nevéhez, mint a 'Most kéne abbahagyni' vagy a 'Nem leszek a játékszered'.",
        hints: ["'Nem leszek a játékszered'", "Táncdalfesztiválok sztárja"]
    },
    { 
        category: "Tárgy", 
        puzzle: "BONYHÁDI ZOMÁNCOS EDÉNY", 
        info: "A Bonyhádi Zománcárugyár termékei, a jellegzetes piros, pöttyös vagy virágmintás lábasok és bögrék minden konyhában megtalálhatók voltak. Strapabírók és a mai napig sokan használják őket.",
        hints: ["Piros, pöttyös lábas", "Strapabíró konyhai eszköz"]
    },
    { 
        category: "Film", 
        puzzle: "SZEGÉNY DZSONI ÉS ÁRNIKA", 
        info: "Sólyom András 1983-as mesefilmje egy fiúról, aki elindul világot látni, és egy boszorkány által elátkozott királylányról. A film látványvilága és zenéje egy generáció számára felejthetetlen.",
        hints: ["Puhl Mária a főszereplő", "Egy elátkozott királylány"]
    },
    { 
        category: "Szokás", 
        puzzle: "MASZEKOLÁS", 
        info: "A 'magánszektor' rövidítése, ami a mellékállásban, engedéllyel vagy anélkül végzett iparos- és szolgáltató munkát jelentette. A 'maszek' autószerelő vagy kőműves a hiánygazdaság fontos szereplője volt.",
        hints: ["Mellékállásban végzett munka", "A hiánygazdaság terméke"]
    },
    { 
        category: "Rajzfilm", 
        puzzle: "KUKORI ÉS KOTKODA", 
        info: "A Pannónia Filmstúdió 1971-es rajzfilmsorozata egy lusta kakasról és a házsártos, de dolgos feleségéről. A 'Feleségem, te legszebb a világon!' mondat szállóigévé vált.",
        hints: ["Egy lusta kakas", "'Kapirgálj, amíg a szem ellát!'"]
    },
    { 
        category: "Jármű", 
        puzzle: "VELOREX", 
        info: "A csehszlovák gyártmányú, háromkerekű, ponyvával borított rokkantkocsi. Jellegzetes formája és a 'bőregér' becenév miatt a korszak egyik legkülönlegesebb járműve volt.",
        hints: ["Háromkerekű jármű", "'Bőregér' volt a beceneve"]
    },
    { 
        category: "Tárgy", 
        puzzle: "FORTE FILMTEKERCS", 
        info: "A váci Forte gyár terméke, a legelterjedtebb film a magyar amatőr és profi fotósok körében. A fekete-fehér és színes tekercsekre készült képek őrzik a korszak emlékeit.",
        hints: ["Váci gyár terméke", "Fényképezőgépbe kellett"]
    },
    { 
        category: "Zenekar", 
        puzzle: "PIRAMIS EGYÜTTES", 
        info: "A '70-es évek végének egyik legnépszerűbb hard rock zenekara, Révész Sándorral az élen. A 'Szállj fel magasra' vagy a 'Ha volna két életem' című dalok óriási slágerek voltak.",
        hints: ["'Szállj fel magasra'", "Révész Sándor volt az énekese"]
    },
    { 
        category: "Ifjúsági műsor", 
        puzzle: "KÖLYÖKIDŐ", 
        info: "A Magyar Televízió 1989-ben indult, rendkívül népszerű ifjúsági műsora, amely a kamaszok problémáival foglalkozott. A szereplők (pl. Gaskó Balázs, Acél Réka) egy generáció példaképei lettek.",
        hints: ["Kamaszoknak szóló műsor", "Gaskó Balázs itt kezdte"]
    },
    { 
        category: "Édesség", 
        puzzle: "PÁRIZSI KOCKA", 
        info: "A Szerencsi Csokoládégyár terméke, egy parányi, csokoládéval bevont, konyakos-meggyes ízű bonbon. A jellegzetes, rózsaszín-fehér csomagolású desszert sokak kedvence volt.",
        hints: ["Konyakos-meggyes ízű", "Rózsaszín-fehér csomagolás"]
    },
    { 
        category: "Tárgy", 
        puzzle: "TERMOPLAST POHÁR", 
        info: "Az eldobható műanyag poharak elődje. A két réteg közötti levegő miatt jobban tartotta a hőt, de a forró teától gyakran megolvadt. A menzák és a büfék elengedhetetlen kelléke volt.",
        hints: ["Műanyag pohár", "A forró teától megolvadt"]
    },
    { 
        category: "Reklám", 
        puzzle: "HURKÁT TÖLTENI DÖFI", 
        info: "A Skála-Coop áruházlánc egyik legemlékezetesebb és legviccesebb reklámja a '80-as évekből, amely egy komplett disznóvágást mutatott be modern, 'menő' stílusban, szleng kifejezésekkel.",
        hints: ["Skála-Coop reklám", "Disznóvágásról szólt"]
    },
    { 
        category: "Zenekar", 
        puzzle: "FONOGRÁF EGYÜTTES", 
        info: "Az Illés zenekar feloszlása után alakult country-rock zenekar Szörényi Levente és Bródy János vezetésével, Koncz Zsuzsával és Halász Judittal is dolgoztak. Dalaikban a magyar népzene és az amerikai country találkozott.",
        hints: ["Country-rock zene", "Az Illés utódzenekara"]
    },
    { 
        category: "Film", 
        puzzle: "CSOPORTOS FÜRDŐZÉS", 
        info: "A 'Gyertek velünk!' ifjúsági műsor keretein belül készült népszerű epizód, amelyben Bódy Gábor rendező a strandolás és a fürdőzés jelenségét vizsgálta. A zenei aláfestés és a lassított felvételek kultikussá tették.",
        hints: ["'Gyertek velünk!' műsor része", "Strandolásról szóló film"]
    },
    { 
        category: "Tárgy", 
        puzzle: "PIROS ARANY", 
        info: "Az Univer ikonikus, tubusos paprikakrémje, amely 1963 óta a magyar konyha alapfűszere. A jellegzetes piros tubus és a csípős vagy csemege íz minden hűtőben megtalálható volt.",
        hints: ["Tubusos paprikakrém", "Az Univer gyártja"]
    },
    { 
        category: "Szokás", 
        puzzle: "OTP LAKÁSKÖLCSÖN", 
        info: "Az Országos Takarékpénztár által nyújtott, alacsony kamatozású kölcsön, ami sok család számára tette lehetővé az első saját lakás megvásárlását. A 'bizalom jele' reklám és a hosszú várakozási idő jellemezte.",
        hints: ["'A bizalom jele'", "Lakásvásárláshoz kellett"]
    },
    { 
        category: "Énekesnő", 
        puzzle: "ZALATNAY SAROLTA", 
        info: "A magyar beatkorszak egyik legextravagánsabb és legnépszerűbb énekesnője. A 'Nem vagyok én apáca' című dalával robbant be a köztudatba a Táncdalfesztiválon.",
        hints: ["'Nem vagyok én apáca'", "Cini a beceneve"]
    },
    { 
        category: "Ifjúsági regény", 
        puzzle: "ABIGÉL", 
        info: "Szabó Magda 1970-es regénye, amelyből nagy sikerű tévésorozat is készült. Vitay Georgina és a matulás lányok története a II. világháború alatt játszódik egy református leánynevelő intézetben.",
        hints: ["Szabó Magda regénye", "Vitay Georgina a főszereplő"]
    },
    { 
        category: "Jármű", 
        puzzle: "SKODA SZÁZHÚSZAS", 
        info: "A csehszlovák farmotoros autó, amely a '80-as években a Zsiguli mellett a leggyakoribb családi autó volt. Jellegzetes hangja és a farnehéz kialakítás miatt különleges vezetési élményt nyújtott.",
        hints: ["Csehszlovák autó", "Farmotoros volt"]
    },
    { 
        category: "Tárgy", 
        puzzle: "OMNIA KÁVÉFŐZŐ", 
        info: "A klasszikus, kotyogós kávéfőző magyar megfelelője. Az alumíniumból készült, jellegzetes formájú eszköz a reggeli kávézás rituáléjának elengedhetetlen része volt a legtöbb háztartásban.",
        hints: ["Kotyogós kávéfőző", "Magyar márka"]
    },
    { 
        category: "TV Műsor", 
        puzzle: "A HÉT", 
        info: "A Magyar Televízió vasárnap esti politikai magazinműsora, amely a hét legfontosabb bel- és külpolitikai eseményeit összegezte. A jellegzetes főcímzene és a komoly hangvétel a vasárnap este végét jelentette.",
        hints: ["Vasárnap esti műsor", "Politikai magazin"]
    },
    { 
        category: "Sport", 
        puzzle: "TOTÓ", 
        info: "A 13+1 mérkőzés végeredményére épülő sportfogadási játék, ami évtizedeken át lázban tartotta a futballrajongókat. A szelvények kitöltése és a meccseredmények figyelése szombati rituálé volt.",
        hints: ["13 plusz 1", "Sportfogadási játék"]
    },
    { 
        category: "Híres mondás", 
        puzzle: "MOST AKKOR ENNYI", 
        info: "Hofi Géza egyik szállóigévé vált mondata, ami a beletörődést és a helyzetkomikumot fejezte ki. A korszak legnagyobb nevettetőjének poénjai a politikai rendszer kritikáját is magukban hordozták.",
        hints: ["Hofi Géza mondása", "A beletörődés kifejezése"]
    },
    { 
        category: "Szórakozás", 
        puzzle: "VIDÁMPARK", 
        info: "A budapesti Vidámpark a szórakozás központja volt, tele olyan klasszikus játékokkal, mint a Hullámvasút, a Barlangvasút vagy a Dodzsem. Egy látogatás itt egész napos programot jelentett a családoknak.",
        hints: ["Dodzsem és Hullámvasút", "A szórakozás központja Budapesten"]
    },
    { 
        category: "Tárgy", 
        puzzle: "FÜLES MAGAZIN", 
        info: "Az 1957 óta megjelenő, népszerű rejtvénylap, amely tele van keresztrejtvényekkel, skandináv rejtvényekkel és logikai feladatokkal. A 'Füles' egyet jelentett a vonaton vagy otthon töltött szabadidővel.",
        hints: ["Népszerű rejtvénylap", "Keresztrejtvények voltak benne"]
    },
    { 
        category: "Divat", 
        puzzle: "ALFÖLD MIX ING", 
        info: "Az Alföldi Kötöttárugyár terméke, egy jellegzetes, galléros, rövid ujjú póló, ami a '80-as évek férfidivatjának alapdarabja volt. A csíkos minták és a műszálas anyag jellemezte.",
        hints: ["Galléros, rövid ujjú póló", "A '80-as évek férfidivatja"]
    },
    { 
        category: "Film", 
        puzzle: "CSAK SEMMI PÁNIK", 
        info: "Az Ötvös Csöpi-filmek második része, amely a Balatonon játszódik. Bujtor István, Kern András és a poénos párbeszédek garantálták a sikert és a felhőtlen szórakozást.",
        hints: ["Ötvös Csöpi a Balatonon", "Bujtor István filmje"]
    },
    { 
        category: "Híres ember", 
        puzzle: "FARKAS BERCI", 
        info: "Az első magyar űrhajós, aki 1980-ban a Szojuz–36 űrhajó fedélzetén jutott fel a világűrbe. Űrutazása hatalmas esemény volt, és egy ország figyelte lélegzetvisszafojtva a kalandjait.",
        hints: ["Az első magyar űrhajós", "1980-ban járt a világűrben"]
    },
    { 
        category: "Ital", 
        puzzle: "KŐBÁNYAI SÖR", 
        info: "A 'munkások söre', a legelterjedtebb és legolcsóbb sör a Kádár-korszakban. A jellegzetes, egyszerű címkés, félliteres üveges sör a kocsmák és a házibulik alapvető kelléke volt.",
        hints: ["'A munkások söre'", "A legolcsóbb sör volt"]
    },
    { 
        category: "Tárgy", 
        puzzle: "BÓLOGATÓS KUTYA", 
        info: "A személyautók, különösen a Ladák és Trabantok kalaptartójának elengedhetetlen dísze. A bólogató fejű, plüss kutyafigura minden mozdulatra együtt mozgott az autóval, vidámságot csempészve az utazásba.",
        hints: ["Autók kalaptartóján volt", "A feje mozgott"]
    },
    { 
        category: "Közélet", 
        puzzle: "KISZ TÁBOR", 
        info: "A Kommunista Ifjúsági Szövetség által szervezett nyári építőtáborok, ahol a fiatalok 'társadalmi munkában' vettek részt, de a hangsúly gyakran a közösségi életről és a bulizásról szólt.",
        hints: ["Kommunista Ifjúsági Szövetség", "Nyári építőtábor"]
     },
     {
       category: "Televíziós Személyiség", 
        puzzle: "RÓZSA GYÖRGY", 
        info: "A Magyar Televízió egyik legkarizmatikusabb showmanje, a 'Kapcsoltam' és a 'Leg... leg... leg...' című vetélkedők legendás házigazdája. Jellegzetes bajusza, energikus stílusa és a nézőkkel való közvetlen kapcsolata egy egész korszakot határozott meg.",
        hints: ["Kapcsoltam!", "Leg... leg... leg..."]
    },
    { 
        category: "Külföldi Rajzfilm", 
        puzzle: "KACSAMESÉK", 
        info: "A Walt Disney stúdió rajzfilmsorozata, ami a '80-as évek végén robbant be a Magyar Televízióba. Dagobert bácsi és unokaöccsei kalandjai a pénz körül egy új, színes világot hoztak a gyerekeknek a vasfüggöny mögött. A főcímdalát mindenki kívülről fújta.",
        hints: ["Dagobert bácsi", "Niki, Tiki és Viki"]
    },
    { 
        category: "Háztartási Gép", 
        puzzle: "LEHEL HŰTŐSZEKRÉNY", 
        info: "A jászberényi Lehel Hűtőgépgyár terméke, a magyar háztartások megbízható és elnyűhetetlen darabja. A jellegzetes, kattanó hanggal záródó ajtó és a mélyhűtő részben felgyűlő jégréteg a korszak szimbóluma volt.",
        hints: ["Jászberényi gyártmány", "Elnyűhetetlen háztartási gép"]
    },
    { 
        category: "Film", 
        puzzle: "A PÁL UTCAI FIÚK", 
        info: "Fábri Zoltán 1969-es, Oscar-díjra jelölt filmalkotása Molnár Ferenc regényéből. A grundért folytatott küzdelem, Nemecsek Ernő sorsa és a grund elvesztése egy egész nemzet számára vált szívszorító élménnyé.",
        hints: ["Nemecsek Ernő", "Einstand!"]
    },
    { 
        category: "Játék", 
        puzzle: "GUMIINDIÁN", 
        info: "A '70-es, '80-as évek egyik legnépszerűbb és legolcsóbb játékfigurája. A jellegzetes, vörösesbarna színű, gumi indiánokból hatalmas seregeket lehetett gyűjteni, és a játszótéri csaták elengedhetetlen szereplői voltak.",
        hints: ["Olcsó játékfigura", "Hatalmas seregeket gyűjtöttek belőle"]
    },
    { 
        category: "TV Műsor", 
        puzzle: "JÁTÉK A BETŰKKEL", 
        info: "Vágó István egyik korai, rendkívül népszerű vetélkedője, ahol a magyar nyelv és a szókincs volt a főszerepben. A játékosoknak betűkből kellett minél hosszabb értelmes szavakat kirakniuk.",
        hints: ["Vágó István vezette", "Szavakat kellett kirakni"]
    },
    { 
        category: "Édesség", 
        puzzle: "NEGRÓ CUKORKA", 
        info: "A 'torok kéményseprője' szlogennel elhíresült, jellegzetes ánizsos-mentolos ízű cukorka. A fekete színű, kemény cukorka a megfázásos időszakok megbízható 'gyógyszere' volt.",
        hints: ["'A torok kéményseprője'", "Fekete színű cukorka"]
    },
    { 
        category: "Tárgy", 
        puzzle: "MÓNIKA SZEKRÉNYSOR", 
        info: "A szocialista nappalik elengedhetetlen bútordarabja. A lakkozott, sötétbarna szekrénysor polcain sorakoztak az Alföldi porcelánok, a kristálypoharak és a családi fotók, a tévének kihagyott hellyel a közepén.",
        hints: ["A nappali bútora", "Lakkozott, sötétbarna"]
    },
    { 
        category: "Zene", 
        puzzle: "ISTVÁN A KIRÁLY", 
        info: "Szörényi Levente és Bródy János 1983-as rockoperája, amely a magyar történelem egyik legfontosabb pillanatát dolgozza fel. A királydombi ősbemutató és a dalok, mint a 'Szállj fel, szabad madár', kulturális mérföldkőnek számítanak.",
        hints: ["Rockopera", "Szörényi Levente és Bródy János műve"]
    },
    { 
        category: "Ital", 
        puzzle: "HÁZMESTER KÁVÉ", 
        info: "A pult alól mért, olcsó, de erős, jellegzetes ízű kávé, amit a házmesterek vagy portások főztek a ház lakóinak. A 'Házmester' vagy 'Portás' kávé a reggeli ébredés szinonimája volt sokak számára.",
        hints: ["Pult alól mérték", "A ház lakóinak főzték"]
    },
    { 
        category: "Zenekar", 
        puzzle: "EDDA MŰVEK", 
        info: "A 'bakancsos' rockzene legfontosabb képviselője, Pataky Attila vezetésével. A miskolci zenekar a munkásfiatalok hangja volt, és olyan slágerekkel hódítottak, mint az 'Álmodtam egy világot'.",
        hints: ["Miskolci rockzenekar", "Pataky Attila az énekese"]
    },
    { 
        category: "Tárgy", 
        puzzle: "TELEFONOS TELEFONKÖNYV", 
        info: "A digitális kor előtt az egyetlen módja annak, hogy megtaláljunk valakit. A vaskos, sárga vagy szürke lapos könyvekben név és cím szerint lehetett keresni a telefonszámokat.",
        hints: ["Vaskos, sárga lapos könyv", "Telefonszámokat tartalmazott"]
    },
    { 
        category: "Közlekedés", 
        puzzle: "ROMET PONY", 
        info: "A lengyel gyártmányú kismotor, a 'póni', ami a tinédzserek szabadságát jelentette a '80-as években. A jellegzetes hangú, egyszerű felépítésű mopeddel jártak a fiúk a strandra és a focimeccsre.",
        hints: ["Lengyel kismotor", "'Póni' volt a beceneve"]
    },
    { 
        category: "Szokás", 
        puzzle: "GÉPIECSKE BÉRLÉS", 
        info: "Az 'így írunk mi' korszakának alapvető szolgáltatása. Mivel kevés embernek volt saját írógépe, a fontosabb hivatalos iratokat, szakdolgozatokat gépíró kisasszonyoknál vagy szolgáltatóknál kellett elkészíttetni.",
        hints: ["Fontos iratokhoz kellett", "Írógéppel történt"]
    },
    { 
        category: "Film", 
        puzzle: "EGRI CSILLAGOK", 
        info: "Várkonyi Zoltán 1968-as, nagyszabású történelmi filmje Gárdonyi Géza regényéből. A monumentális csatajelenetek, a legendás színészek és a hazafias történet a magyar filmgyártás egyik csúcsa.",
        hints: ["Várkonyi Zoltán rendezte", "Bornemissza Gergely és Cecey Éva"]
    },
    { 
        category: "Édesség", 
        puzzle: "MELBA KOCKA", 
        info: "A Csemege Édesipari Vállalat terméke, egy csokoládéval bevont, ananászos ízű fondant szaloncukor-szerűség. Jellegzetes sárga-barna csomagolása és egzotikus íze különlegességnek számított.",
        hints: ["Ananászos ízű fondant", "Sárga-barna csomagolás"]
    },
    { 
        category: "Műszaki cikk", 
        puzzle: "VIDEOTON HI-FI TORONY", 
        info: "A '80-as években a minőségi zenehallgatás csúcsát jelentette. A rádióból, lemezjátszóból és kazettás magnóból álló rendszer a nappali dísze volt, és a házibulik elengedhetetlen kelléke.",
        hints: ["Lemezjátszó és magnó egyben", "A zenehallgatás csúcsa volt"]
    },
    { 
        category: "Színész", 
        puzzle: "BODROGI GYULA", 
        info: "A Nemzet Színésze, a korszak egyik legnépszerűbb és legsokoldalúbb színművésze. A Süsü, a sárkány hangjaként, a Linda apjaként és számtalan film és színházi szerep főszereplőjeként zárta a szívébe az ország.",
        hints: ["Süsü, a sárkány hangja", "Linda apja a sorozatban"]
    },
    { 
        category: "Mosópor", 
        puzzle: "BIOPON MOSÓPOR", 
        info: "A 'hatásos, mégis kíméletes' mosópor, amely a '80-as években vált népszerűvé. A reklámjaiban szereplő 'ázott veréb' frizurás hölgy és a hatékonyságot hangsúlyozó szlogenek mindenki számára ismerősek voltak.",
        hints: ["'Hatásos, mégis kíméletes'", "A reklámjában egy ázott veréb volt"]
    },
    { 
        category: "TV Műsor", 
        puzzle: "CSALÁDI KÖR", 
        info: "A Magyar Televízió nevelési célzatú sorozata, amely különböző családi konfliktusokat és problémákat mutatott be, majd szakértők elemezték a látottakat. A 'Mi lett volna, ha...' kérdés a műsor védjegyévé vált.",
        hints: ["Nevelési célzatú sorozat", "'Mi lett volna, ha...'"]
    },
    { 
        category: "Édesség", 
        puzzle: "ZIZI", 
        info: "A puffasztott, cukormázas kukoricapehely, ami a gyerekek egyik kedvenc ropogtatnivalója volt. A jellegzetes, áttetsző zacskós csomagolás és az édes, ropogós íz a gyerekkor elválaszthatatlan része.",
        hints: ["Puffasztott kukoricapehely", "Édes ropogtatnivaló"]
    },
    { 
        category: "Szokás", 
        puzzle: "GÓLYATÁBOR", 
        info: "A felsőoktatási intézmények elsőéves hallgatóinak szóló, beavató tábora. A Kádár-korszakban ezek az események a közösségépítés és a felszabadult bulizás helyszínei voltak a tanév kezdete előtt.",
        hints: ["Elsőéves egyetemistáknak", "Beavató tábor"]
    },
    { 
        category: "Film", 
        puzzle: "SOSE HALUNK MEG", 
        info: "Koltai Róbert 1993-as filmje, amely a '60-as évek hangulatát idézi meg. Gyuszi bácsi, a vállfás-utazóügynök és az ügetőversenyek világa egy melankolikus, mégis humoros korrajz.",
        hints: ["'Az élet egy nagy játék'", "Koltai Róbert filmje"]
    },
    { 
        category: "Játék", 
        puzzle: "FÉMÉPÍTŐ KÉSZLET", 
        info: "A Merkur vagy más márkájú, csavarokkal és anyákkal összeszerelhető fém alkatrészekből álló játék. A gyerekek órákig tudtak belőle autókat, darukat és más szerkezeteket építeni, fejlesztve a kreativitásukat.",
        hints: ["Csavarok és anyák", "Szerkezeteket lehetett építeni belőle"]
    },
    { 
        category: "Szokás", 
        puzzle: "GELLÉRTHEGYI SZÁNKÓZÁS", 
        info: "Amikor télen leesett a hó, családok ezrei özönlöttek a Gellért-hegy lejtőire, hogy szánkózzanak. A házi készítésű vagy bolti szánkókon való csúszkálás a téli szünet legszebb pillanatait jelentette.",
        hints: ["Téli program Budapesten", "Családok csúszkáltak a lejtőn"]
    },
    { 
        category: "Ital", 
        puzzle: "SZOVJET PEZSGŐ", 
        info: "A 'Советское Шампанское', ami a szilveszterek és ünnepségek elengedhetetlen kelléke volt. Bár nem Champagne-ból származott, az édes, habzó ital egyet jelentett az ünnepléssel.",
        hints: ["'Советское Шампанское'", "Szilveszteri ital"]
    },
    { 
        category: "Tárgy", 
        puzzle: "LEMEZVÁGÓ POSTAI KÉPESLAP", 
        info: "Egy különleges, hajlékony műanyag lemez, amit képeslapként lehetett elküldeni. A lemezen általában egy-egy sláger volt, amit lemezjátszón le lehetett játszani. A 'hangos képeslap' a korszak menő ajándéka volt.",
        hints: ["Hangos képeslap", "Lemezjátszón lehetett lejátszani"]
    },
    { 
        category: "TV Műsor", 
        puzzle: "PANORÁMA", 
        info: "A Magyar Televízió külpolitikai magazinja, Chrudinák Alajos vezetésével. A műsor a szocialista blokk keretein belül, de gyakran azok határait feszegetve számolt be a világ eseményeiről.",
        hints: ["Külpolitikai magazin", "Chrudinák Alajos vezette"]
    },
    { 
        category: "Zenekar", 
        puzzle: "BEATRICE EGYÜTTES", 
        info: "A 'babos kendős', punk-rock zenekar, Nagy Feró vezetésével. A 'Nem kellesz!' vagy a 'Nagyvárosi farkas' című dalaik a rendszerrel szembeni lázadás himnuszai voltak a '80-as években.",
        hints: ["'A nemzet csótánya'", "Nagy Feró zenekara"]
    },
    { 
        category: "Étel", 
        puzzle: "SZARVASI SAJT", 
        info: "A jellegzetes, lyukacsos, enyhén édeskés ízű sajt, ami a korszak egyik legnépszerűbb sajtfélesége volt. A szendvicsek és a hidegtálak elengedhetetlen alapanyaga.",
        hints: ["Lyukacsos, édeskés sajt", "Magyar sajtféleség"]
    },
    { 
        category: "Szokás", 
        puzzle: "TÁRSADALMI MUNKA", 
        info: "A Kádár-korszakban elvárt, ingyenesen végzett közösségi munka, például parkrendezés, iskolaépítés vagy terménybetakarítás. A részvétel gyakran kötelező volt, és a közösségi szellem erősítését szolgálta.",
        hints: ["Ingyenesen végzett munka", "Parkrendezés vagy iskolaépítés"]
    },
    { 
        category: "Tárgy", 
        puzzle: "ORION TÉVÉANTENNA", 
        info: "A háztetőkön sorakozó, jellegzetes, gereblyeszerű antennák, amelyek a televíziós adás vételét biztosították. A szélben elmozduló antennát gyakran kellett a tetőn igazgatni a jobb képminőségért.",
        hints: ["Háztetőkön volt", "A televíziós adás vételére szolgált"]
    },
    { 
        category: "Film", 
        puzzle: "RÉGI IDŐK FOCIJA", 
        info: "Sándor Pál 1973-as filmje, amely a '30-as évek amatőr futballvilágának hangulatát idézi meg. Minarik Ede, a mosodás és a Csabagyöngye SC története a magyar filmtörténet klasszikusa.",
        hints: ["Minarik Ede, a mosodás", "'Kell egy csapat!'"]
    },
    { 
        category: "Híres ember", 
        puzzle: "GÁLVÖLGYI JÁNOS", 
        info: "A korszak egyik legnépszerűbb parodistája és színésze. A rádiókabarékban és a televíziós műsorokban számtalan híres embert utánzott tökéletesen, és humora az egész országot nevettette.",
        hints: ["Népszerű parodista", "Rádiókabarék sztárja"]
    },
    { 
        category: "Dohányáru", 
        puzzle: "SYMPHONIA CIGARETTA", 
        info: "Az egyik legelterjedtebb magyar cigarettamárka volt. A jellegzetes, puha dobozos, filter nélküli vagy filteres változatban is kapható cigaretta a korszak dohányosainak alapvető kelléke volt.",
        hints: ["Magyar cigarettamárka", "Puha dobozos volt"]
    },
    { 
        category: "Szokás", 
        puzzle: "FÉNYSOROS ÜNNEPLÉS", 
        info: "A szilveszteri és ünnepi tévéműsorok visszatérő eleme volt, amikor a stúdióban lévő közönség kis lámpákat vagy csillagszórókat lengetett a sötétben, különleges hangulatot teremtve.",
        hints: ["Szilveszteri tévéműsorok", "A közönség kis lámpákat lengetett"]
    },
    { 
        category: "Ifjúsági Regény", 
        puzzle: "A KIS VUK", 
        info: "Fekete István regényéből készült, Dargay Attila rendezte 1981-es rajzfilm. A kis róka felnőtté válásának története, a Karak és a Simabőrű elleni küzdelme generációk kedvence lett.",
        hints: ["Egy kis róka története", "Karak a gonosz"]
    },
    { 
        category: "Közlekedés", 
        puzzle: "FAPADOS VONAT", 
        info: "A MÁV személyvonatainak legalacsonyabb osztálya, ahol a kényelmet a kemény, lakkozott faülések jelentették. A fapados kocsik a diákok és a munkába ingázók mindennapi utazási élményét adták.",
        hints: ["MÁV személyvonat", "Kemény, lakkozott faülések"]
    },
    { 
        category: "Tárgy", 
        puzzle: "CSATOS ÜVEG", 
        info: "A tejes, a sörös és a Bambi üdítősüveg jellegzetes, porcelán dugós és drót kengyeles zárja. Az újratölthető üvegek a betétdíjas rendszer alapját képezték, és minden háztartásban gyűjtötték őket.",
        hints: ["Porcelán dugó és drót kengyel", "A Bambi üdítőt ebbe töltötték"]
    },
    { 
        category: "Szokás", 
        puzzle: "UTASELLÁTÓ SZENDVICS", 
        info: "A vasúti restik és büfékocsi jellegzetes, szikkadt zsemlébe vagy kenyérszeletek közé tett, egyszerű szendvicse. A párizsis, sajtos vagy szalámis változat a hosszú vonatutak megmentője volt.",
        hints: ["Vonaton lehetett kapni", "Szikkadt zsemléből készült"]
    },
    { 
        category: "TV Műsor", 
        puzzle: "SZUPERGRAN", 
        info: "Egy brit televíziós sorozat, amit a Magyar Televízió is sugárzott a '80-as években. Egy idős hölgyről szólt, aki szupererőt kapott, és ezzel segített az embereken. A gyerekek körében rendkívül népszerű volt.",
        hints: ["Egy idős hölgy szupererővel", "Brit sorozat volt"]
    },
    { 
        category: "Szállóige", 
        puzzle: "AZ IGAZSÁG ODAÁT VAN", 
        info: "Bár a '90-es évek elején indult, a szocializmus végén már érezhető volt a hatása. Az X-Akták című sorozat szlogenje, ami a rejtélyek és a megmagyarázhatatlan dolgok iránti érdeklődést szimbolizálta.",
        hints: ["X-Akták sorozat", "UFO-kra utal"]
    },
    { 
        category: "Zenész", 
        puzzle: "SZÉCSI PÁL", 
        info: "A '60-as, '70-es évek egyik legnépszerűbb táncdalénekese, akinek bársonyos hangja és sármja nők ezreinek szívét dobogtatta meg. Olyan slágerek fűződnek a nevéhez, mint a 'Gedeon bácsi'.",
        hints: ["'Gedeon bácsi'", "Bársonyos hangú énekes"]
    },
    { 
        category: "Étel", 
        puzzle: "VADAS MARHA ZSEMLEGOMBÓCCAL", 
        info: "A klasszikus magyar konyha egyik ünnepi fogása, ami a vasárnapi ebédek és a vendéglők étlapjának állandó szereplője volt. A zöldséges, mustáros mártás és a puha gombóc tökéletes párost alkotott.",
        hints: ["Mustáros, zöldséges mártás", "Ünnepi főétel"]
    },
    { 
        category: "Film", 
        puzzle: "A KENGURU", 
        info: "Zsombolyai János 1975-ös filmje, egyfajta road movie, amely a '70-es évek magyar fiataljainak életérzését mutatja be egy stoppos lány utazásán keresztül. A film zenéje, az LGT és a Gemini slágerei, legendássá vált.",
        hints: ["Egy stoppos lány története", "Az LGT szerezte a zenéjét"]
    },
    { 
        category: "Híres ember", 
        puzzle: "HOFI GÉZA", 
        info: "A Kádár-korszak legnépszerűbb és legbátrabb humoristája. Paródiái és a rendszernek finoman odaszúró poénjai miatt az egész ország imádta. Előadásaira szinte lehetetlen volt jegyet szerezni.",
        hints: ["'A gondolkodás luxusát'", "A korszak legnagyobb nevettetője"]
    },
    { 
        category: "Tárgy", 
        puzzle: "KAZETTÁS WALKMAN", 
        info: "A Sony által piacra dobott, hordozható kazettás magnó a '80-as években forradalmasította a zenehallgatást. A fülhallgatón keresztül bárhol, bármikor lehetett zenét hallgatni, ami a szabadság érzését adta a fiataloknak.",
        hints: ["Hordozható zenelejátszó", "Fülhallgató kellett hozzá"]
    },
    { 
        category: "Szokás", 
        puzzle: "HÁZTÁJI GAZDASÁG", 
        info: "A szocialista rendszerben engedélyezett kisméretű magángazdaság, ahol a családok a saját telkükön állatokat tartottak és növényeket termesztettek, kiegészítve ezzel a jövedelmüket és az élelmiszer-ellátást.",
        hints: ["Kisméretű magángazdaság", "Állattartás és növénytermesztés otthon"]
    },
    { 
        category: "TV Műsor", 
        puzzle: "RÉSZLEGES NAPFOGYATKOZÁS", 
        info: "Bár ez egy csillagászati jelenség, a Magyar Televízió által közvetített 1961-es esemény óriási társadalmi érdeklődést váltott ki. Az emberek kormozott üvegeken keresztül nézték a ritka látványosságot, a tévé pedig élőben közvetítette.",
        hints: ["Csillagászati esemény", "Kormozott üvegen át nézték"]
    },
    { 
        category: "Ital", 
        puzzle: "UTAS ÜDÍTŐ", 
        info: "A Mátra Cukorgyár által gyártott, jellegzetes, trapéz alakú, dobozos üdítőital. Az ananász, málna és narancs ízű italok a kirándulások és iskolai büfék elengedhetetlen kellékei voltak.",
        hints: ["Trapéz alakú doboz", "Ananász ízben is volt"]
    },
    { 
        category: "Édesség", 
        puzzle: "CSACSI SAJT", 
        info: "A háromszög alakú, krémes ömlesztett sajt, amelynek dobozán egy vidám szamár volt látható. A gyerekek imádták a tízóraik mellé, és a dobozokat gyakran gyűjtötték.",
        hints: ["Háromszögletű ömlesztett sajt", "Szamár volt a dobozán"]
    },
    { 
        category: "Köszöntés", 
        puzzle: "ELŐRE A LENINI ÚTON", 
        info: "A KISZ és az úttörőmozgalom egyik jelmondata és köszöntése volt, amely a szocialista eszmék iránti elkötelezettséget fejezte ki a hivatalos eseményeken.",
        hints: ["Úttörő jelmondat", "A jövőbe vetett hitet szimbolizálta"]
    },
    { 
        category: "TV Műsor", 
        puzzle: "HOMOKÓRA", 
        info: "A Magyar Televízió nyugdíjasoknak szóló magazinműsora volt, amely életmóddal, egészséggel és kulturális programokkal foglalkozott. Lassan csordogáló képei és nyugodt tempója jellemezte.",
        hints: ["Nyugdíjasoknak szóló magazin", "Lassú, meditatív műsor volt"]
    },
    { 
        category: "Énekesnő", 
        puzzle: "KOVÁCS ESZTI", 
        info: "A 'Pancsoló kislány' című slágerrel örökre beírta magát a magyar könnyűzene történetébe. A gyereksztárként indult énekesnő dala a nyári felhőtlen hangulat szinonimája lett.",
        hints: ["'Pancsoló kislány'", "Gyerekként lett híres"]
    },
    { 
        category: "Esemény", 
        puzzle: "SZPARTAKIÁD", 
        info: "A szocialista országokban rendezett, tömegsportra és látványos, közös tornagyakorlatokra épülő sportünnepély. A stadionokban ezrek mozogtak egyszerre, a precíz koreográfia lenyűgöző látványt nyújtott.",
        hints: ["Tömegsport-rendezvény", "Látványos tornagyakorlatok"]
    },
    { 
        category: "Tárgy", 
        puzzle: "CSIPKERÓZSIKA KONZERV", 
        info: "A Globus konzervgyár egyik legkülönlegesebb terméke volt a sűrített paradicsom, amelynek dobozán a híres mese illusztrációja szerepelt. A háziasszonyok imádták a pörköltekhez és a lecsóhoz.",
        hints: ["Sűrített paradicsom", "Mesehős volt a dobozán"]
    },
    { 
        category: "Tisztálkodószer", 
        puzzle: "GABI FOGKRÉM", 
        info: "A gyerekeknek szánt, jellegzetes, édeskés ízű fogkrém. A 'Gabi fogat mos' szlogen és a vidám csomagolás célja az volt, hogy a legkisebbekkel is megszerettesse a fogápolást.",
        hints: ["Gyerekeknek készült", "'Gabi fogat mos'"]
    },
    { 
        category: "Iskolaszer", 
        puzzle: "ÍGY ÍRUNK MI", 
        info: "Az általános iskolai írásfüzet, amelyben a diákok a szépírást gyakorolták. A vonalrendszer és a margón lévő segédábrák segítették a betűk formálásának elsajátítását.",
        hints: ["Iskolai írásfüzet", "A szépírást ebben gyakorolták"]
    },
    { 
        category: "Édesség", 
        puzzle: "SZILVIA SZELET", 
        info: "A Szerencsi Csokoládégyár terméke, egy rumos-diós ízű, csokoládéval bevont szelet. A felnőttesebb ízvilága miatt a felnőttek kedvence volt, de a gyerekek is szerették.",
        hints: ["Rumos-diós ízű", "Szerencsi csoki"]
    },
    { 
        category: "Ital", 
        puzzle: "KONZUM TEA", 
        info: "A legelterjedtebb és legolcsóbb filteres tea a korszakban. A jellegzetes piros dobozos 'Gránátalma' és más fantázianevű teák a menzák és a munkahelyi büfék alapvető kellékei voltak.",
        hints: ["Filteres tea", "Piros dobozos volt"]
    },
    { 
        category: "Tárgy", 
        puzzle: "HÁZIÁLDÁS FALVÉDŐ", 
        info: "A konyhák falát díszítő, hímzett textília, amelyen általában egy idilli kép és egy bölcs mondás szerepelt, mint például 'A hol nincs asszony, ott a ház söpretlen'.",
        hints: ["Hímzett textília a konyhában", "Bölcs mondás volt rajta"]
    },
    { 
        category: "Rádió", 
        puzzle: "SZABAD EURÓPA RÁDIÓ", 
        info: "Az amerikai finanszírozású rádióadó, amely a vasfüggöny mögé sugárzott híreket és nyugati zenét. A hallgatása tiltott volt, és a 'zavaróadók' próbálták élvezhetetlenné tenni az adást.",
        hints: ["Tiltott volt a hallgatása", "Nyugati híreket és zenét sugárzott"]
    },
    { 
        category: "Vállalat", 
        puzzle: "VOLÁN TÁRSASÁG", 
        info: "Az állami buszközlekedési vállalat, amely az ország távolsági és helyközi buszjáratait üzemeltette. A jellegzetes sárga buszok az ország minden szegletébe eljuttatták az utasokat.",
        hints: ["Állami buszközlekedés", "Sárga buszok jellemezték"]
    },
    { 
        category: "Áruház", 
        puzzle: "KERAVILL", 
        info: "A Kereskedelmi, Rádió és Villamossági Vállalat, ahol a műszaki cikkeket, például televíziót, rádiót és háztartási gépeket lehetett megvásárolni. Egy új porszívó beszerzése itt nagy eseménynek számított.",
        hints: ["Műszaki cikk bolt", "Itt vették a tévét"]
    },
    { 
        category: "Magazin", 
        puzzle: "EZ A DIVAT", 
        info: "A szocialista divat legfontosabb magazinja, amely bemutatta a legújabb hazai és 'baráti' országokból származó trendeket. A szabásmintamelléklet a háziasszonyok nagy kincse volt.",
        hints: ["Divatmagazin", "Szabásminta melléklet is volt benne"]
    },
    { 
        category: "Napilap", 
        puzzle: "NÉPSZABADSÁG", 
        info: "A Magyar Szocialista Munkáspárt központi lapja, az ország legnagyobb példányszámú napilapja. A hivatalos pártálláspontot tükrözte, de a sporthírek és a kulturális rovat miatt sokan olvasták.",
        hints: ["Az MSZMP központi lapja", "Naponta megjelenő újság"]
    },
    { 
        category: "Sláger", 
        puzzle: "SZÁZ FORINTNAK ÖTVEN A FELE", 
        info: "Aradszky László egyik legismertebb slágere, amely a pénz és a szerelem humoros kapcsolatáról szól. A fülbemászó dallam és a vicces szöveg a korszak egyik nagy slágerévé tette.",
        hints: ["Aradszky László énekelte", "Pénzről és szerelemről szól"]
    },
    { 
        category: "Étel", 
        puzzle: "KÖRÖZÖTT", 
        info: "A juhtúróból, fűszerpaprikából, köménymagból és hagymából készült, jellegzetes magyar krém. A hidegtálak, a szendvicsek és a baráti beszélgetések elengedhetetlen kísérője volt, friss kenyérrel tálalva.",
        hints: ["Juhtúróból készült krém", "Fűszerpaprika adja a színét"]
    },
    
    // Fődíj Feladványok
    { category: 'Fődíj Feladvány', puzzle: 'AKI MER AZ NYER', info: 'Klasszikus mondás, amely a bátorság és a kockázatvállalás fontosságát hangsúlyozza. Ebben a játékban különösen igaz volt!' },
    { category: 'Fődíj Feladvány', puzzle: 'AZ ÉLET SÓJA A MUNKA', info: 'A szocialista éra egyik legismertebb jelmondata volt, amely a munka dicsőségét hirdette. Ma már talán mosolygunk rajta.' },
    { category: 'Fődíj Feladvány', puzzle: 'ITT A VÉGE FUSS EL VÉLE', info: 'A magyar népmesék klasszikus zárómondata, amit mindenki ismert gyerekkorából. Most a mi óránk is ezzel ért véget.' },
    { category: 'Fődíj Feladvány', puzzle: 'MINDEN JÓ HA A VÉGE JÓ', info: 'Shakespeare-től származó, de mára már közmondássá vált idézet. Reméljük, Ön is így érzi a játék után!' },
    { category: 'Fődíj Feladvány', puzzle: 'CSAK A SKÁLA', info: 'A Skála-Coop áruházlánc fülbemászó reklámszlogenje a nyolcvanas évekből. A "nyugati" bőség egy apró szeletét jelentette.' },
    { category: 'Fődíj Feladvány', puzzle: 'KICSIT SÁRGA KICSIT SAVANYÚ DE A MIÉNK', info: 'Bacsó Péter "A tanú" című filmjének legendás mondata a "magyar narancsról", amely a rendszer abszurditásának szinonimája lett.' },
    { category: 'Fődíj Feladvány', puzzle: 'EMBER KÜZDJ ÉS BÍZVA BÍZZÁL', info: 'Madách Imre "Az ember tragédiája" című művének zárómondata, amely a nehézségek ellenére is a remény fontosságát hangsúlyozza.' },
    { category: 'Fődíj Feladvány', puzzle: 'JÓ ESTÉT JÓ SZURKOLÁST', info: 'Vitray Tamás, a legendás sportriporter köszöntése, amely egyet jelentett a nagy sportközvetítésekkel a televízióban.' },
    { category: 'Fődíj Feladvány', puzzle: 'KÉSZÜLT A MAGYAR TELEVÍZIÓBAN', info: 'A legtöbb hazai gyártású tévéműsor és film végén olvasható felirat, amely egy korszakot és minőséget is jelzett.' },
    { category: 'Fődíj Feladvány', puzzle: 'EGYET FIZET KETTŐT KAP', info: 'Az akciós vásárlások és a csábító ajánlatok örökzöld szlogenje, amitől mindenki szívébe beköltözik a remény.' },
    { category: 'Fődíj Feladvány', puzzle: 'ITT VAN AZ ŐSZ ITT VAN UJRA', info: 'Petőfi Sándor azonos című versének híres kezdősora, amely az ősz melankolikus szépségét festi le.' },
    { category: 'Fődíj Feladvány', puzzle: 'A SZERENCSE FORGANDÓ', info: 'Örök igazság, ami a mi játékunkra is érvényes. Ma Önnek kedvezett a szerencse, gratulálunk!' },
    { category: 'Fődíj Feladvány', puzzle: 'A KOCKA EL VAN VETVE', info: 'Julius Caesar híres mondása, amely a visszavonhatatlan döntések szinonimája lett. Az Ön döntése, hogy játszott, nagyszerűnek bizonyult!' },
    { category: 'Fődíj Feladvány', puzzle: 'VÉGE A MŰSORNAK MÁRA', info: 'A televíziós adások klasszikus zárómondata, amely jelezte, hogy a napi program véget ért. Most a mi játékunknak is.' },
    { category: 'Fődíj Feladvány', puzzle: 'HOSSZÚ VOLT A HÉT', info: 'Gyakori mondás volt a munkahét végén. Reméljük, ez a játék kellemes lezárása volt az Ön hetének is!' },
    { category: 'Fődíj Feladvány', puzzle: 'SZÉP VOLT FIÚK', info: 'A sportközvetítések és a szurkolók klasszikus elismerő mondata egy-egy nagy győzelem után. Ma ez a dicséret Önt illeti!' },
    { category: 'Fődíj Feladvány', puzzle: 'A JÁTÉKNAK NINCS VÉGE', info: 'Bár ez a játék most befejeződött, ez a mondás arra utal, hogy az élet megy tovább. Várjuk vissza legközelebb is!' },
    { category: 'Fődíj Feladvány', puzzle: 'MINDEN CSODA HÁROM NAPIG TART', info: 'Ismert közmondás, de reméljük, ennek a szép nyereménynek az öröme sokkal tovább fog tartani Önnek!' },
    { category: 'Fődíj Feladvány', puzzle: 'LE A KALAPPAL', info: 'Az elismerés és a tisztelet klasszikus kifejezése. Mi is megemeljük a kalapunkat a nagyszerű játék előtt!' },
    { category: 'Fődíj Feladvány', puzzle: 'EZ VOLT A NAP FÉNYSZÖGE', info: 'Amikor valami kiemelkedően jól sikerül, arra mondták ezt. A mai játék csúcspontja minden bizonnyal ez a győzelem volt!' },
    { category: 'Fődíj Feladvány', puzzle: 'A HAGYOMÁNY KÖTELEZ', info: 'Ez a mondás a múlt tiszteletére és az értékek megőrzésére utal. Ez a játék is a régi idők hagyományait idézte.' },
    { category: 'Fődíj Feladvány', puzzle: 'GYAKORLAT TESZI A MESTERT', info: 'Ön bebizonyította ennek a régi igazságnak a valódiságát. A kitartó játék meghozta gyümölcsét!' },
    { category: 'Fődíj Feladvány', puzzle: 'A JUTALOMJÁTÉK KÖVETKEZIK', info: 'A régi vetélkedőkben hangzott el ez a mondat a győztes számára. Önnek ez a fődíj maga a jutalomjáték!' },
    { category: 'Fődíj Feladvány', puzzle: 'EZT MEGÉRTE LÁTNI', info: 'Klasszikus elismerő mondat egy különleges esemény után. Reméljük, a nézők is így gondolják ezt a fantasztikus játékot!' },
    { category: 'Fődíj Feladvány', puzzle: 'A CSÚCSON KELL ABBAHAGYNI', info: 'Bölcs mondás, amit sokan megfogadnak. Ön most a csúcson van, gratulálunk a nagyszerű teljesítményhez!' },
    { category: 'Fődíj Feladvány', puzzle: 'KI KORÁN KEL ARANYAT LEL', info: 'Bár a mi játékunk nem napszakhoz kötött, a szemfülessége és ügyessége meghozta Önnek a megérdemelt aranyat!' },
    { category: 'Fődíj Feladvány', puzzle: 'EZ MÁR TÖRTÉNELEM', info: 'Nagy pillanatok után hangzik el ez a mondat. Az Ön győzelme bekerül a Békebeli Szerencsekerék aranykönyvébe!' },
    { category: 'Fődíj Feladvány', puzzle: 'A REMÉNY HAL MEG UTOLJÁRA', info: 'Még a legnehezebb helyzetekben sem szabad feladni. Ön végig hitt a győzelemben, és ez meghozta az eredményt!' },
    { category: 'Fődíj Feladvány', puzzle: 'A GYŐZELEM ÉDES ÍZE', info: 'Ezt érzi most Ön, és teljes mértékben megérdemli. Gratulálunk a fantasztikus és emlékezetes játékhoz!' },
    { category: 'Fődíj Feladvány', puzzle: 'NINCS LEHETETLEN', info: 'Ön bebizonyította, hogy a kitartással és egy kis szerencsével a legnagyobb akadályok is leküzdhetők. Szép volt!' },
    { category: 'Fődíj Feladvány', puzzle: 'A BAJNOKOK ÍGY CSINÁLJÁK', info: 'A sportriporterek kedvenc mondása a kiemelkedő teljesítményekre. Ma Ön volt a bajnok a stúdióban!' },
    { category: 'Fődíj Feladvány', puzzle: 'AZ ÁLOM VALÓRA VÁLT', info: 'Sokak álma egy ekkora nyeremény. Az Ön számára ez ma valósággá vált. Használja egészséggel és örömmel!' },
    { category: 'Fődíj Feladvány', puzzle: 'KÖSZÖNJÜK AZ ÉLMÉNYT', info: 'Nem csak Ön nyert, de mi is gazdagabbak lettünk egy izgalmas és emlékezetes játék élményével. Köszönjük!' },
    { category: 'Fődíj Feladvány', puzzle: 'A CSEMEGE A VÉGÉRE MARADT', info: 'Ahogy mondani szokás, a legjobb falat marad utoljára. Ez a Fődíj volt a mai adás igazi csemegéje!' },
    { category: 'Fődíj Feladvány', puzzle: 'FELTETTE A KORONÁT A NAPRA', info: 'Ez a győzelem méltó befejezése volt a játéknak. Ön ezzel a teljesítménnyel tette fel a koronát a mai napra!' },
    { category: 'Fődíj Feladvány', puzzle: 'ÍGY KELL EZT CSINÁLNI', info: 'Példamutató játék volt, tele ügyességgel és jó döntésekkel. Pontosan így kell ezt csinálni, gratulálunk!' },
    { category: 'Fődíj Feladvány', puzzle: 'A KEMÉNY MUNKA KIFIZETŐDIK', info: 'Az óra során végig koncentrált és küzdött, most pedig learathatja a babérokat. A kemény munka meghozta gyümölcsét!' },
    { category: 'Fődíj Feladvány', puzzle: 'A KÖZÖNSÉG KEDVENCE', info: 'Az Ön játéka biztosan elnyerte a képernyők előtt ülők tetszését is. Ma Ön lett a közönség kedvence!' },
    { category: 'Fődíj Feladvány', puzzle: 'MESTERI MEGFEJTÉS VOLT', info: 'A fődíj feladvány megoldása igazi mestermunka volt. Ezzel a megfejtéssel bizonyította rátermettségét!' },
    { category: 'Fődíj Feladvány', puzzle: 'ITT A BABÉR ITT A PÉNZ', info: 'Ön mindkettőt megérdemli: a dicsőséget a győzelemért és a pénzt a remek játékért. Gratulálunk a dupla sikerhez!' },
    { category: 'Fődíj Feladvány', puzzle: 'VISZONTLÁTÁSRA KEDVES NÉZŐINK', info: 'A Magyar Televízió bemondóinak klasszikus elköszönése. Mi is elköszönünk mára, és várjuk vissza a következő adásban!' }
];
    
            const SPECIAL_PRIZES = [
                { name: 'Videoton Color Star TV', value: 8000 }, { name: 'Csepel Camping bicikli', value: 4500 },
                { name: 'Hajdú Energomat mosógép', value: 7500 }, { name: 'Sokol rádió', value: 1500 },
                { name: 'Lehel hűtőszekrény', value: 6000 }, { name: 'Trapper farmernadrág', value: 1200 },
                { name: 'Éves Balaton szelet adag', value: 3000 }, { name: 'Alföldi papucs szett', value: 800 },
                { name: 'Skála Kópé ajándékcsomag', value: 2000 }, { name: 'Moncsicsi figura', value: 500 },
                { name: 'Tisza cipő', value: 1800 }, { name: 'Komplett Casco biztosítás', value: 10000 },
                { name: 'Márka üdítő éves adag', value: 4000 }, { name: 'Gazdálkodj Okosan társasjáték', value: 600 },
                { name: 'Rubik kocka gyűjtemény', value: 1500 }, { name: 'Szovjet pezsgő válogatás', value: 2500 },
                { name: 'Videoton Hi-Fi torony', value: 9000 }, { name: 'Fabulon naptej csomag', value: 700 },
                { name: 'Buci Maci csokoládé válogatás', value: 1000 }, { name: 'Képeslap gyűjtemény a Balatonról', value: 400 },
                { name: 'Kombinált szekrénysor', value: 12000 }, { name: 'Bonyhádi zománcos edénykészlet', value: 3500 },
                { name: 'NDK turmixgép', value: 2200 }, { name: 'Diavetítő mesefilmekkel', value: 2800 },
                { name: 'Jugoszláv tengerparti utazás', value: 15000 }, { name: 'Lada 1200 személygépkocsi', value: 40000 },
                { name: 'Éves Népsport előfizetés', value: 900 }, { name: 'Commodore 64 számítógép', value: 20000 },
                { name: 'Orion TV antenna', value: 1300 }, { name: 'Ezer Mester magazin előfizetés', value: 500 },
                { name: 'Rakéta porszívó', value: 3000 }, { name: 'BRG MK-27 kazettás magnó', value: 2500 },
                { name: 'Szódásszifon és egy doboz patron', value: 750 }, { name: 'Bólogató kutya a kalaptartóra', value: 400 },
                { name: 'Hímzett falvédő "Jó étvágyat!" felirattal', value: 300 }, { name: 'Supraphon lemezjátszó', value: 3800 },
                { name: 'Skála-Coop vásárlási utalvány', value: 5000 }, { name: 'Orkán edzőruha szett', value: 1500 },
                { name: 'Éves Traubisoda készlet', value: 3500 }, { name: 'Fémépítő készlet', value: 900 },
                { name: 'Szovjet Poljot karóra', value: 1700 }, { name: 'Egy csomag Forte filmtekercs', value: 1000 },
                { name: 'Omnia presszókávéfőző', value: 1100 }, { name: 'Vacsora a helyi Önkiszolgáló Étteremben', value: 1200 },
                { name: 'NDK hajszárító búra', value: 2100 }, { name: 'Éves Sport szelet adag', value: 2800 },
                { name: 'Keravill vásárlási utalvány', value: 6000 }, { name: 'Munkácsy fekete-fehér TV', value: 4000 },
                { name: 'Gumi indiánsátor', value: 1300 }, { name: 'Piros Arany és Gulyáskrém óriáscsomag', value: 550 },
                { name: 'Csehszlovák kristálypohár készlet', value: 4200 }, { name: 'Gorenje konyhai robotgép', value: 8500 },
                { name: 'Úttörővasút jegyek az egész családnak', value: 650 }, { name: 'Ofotért utalvány egy Penti 6 fényképezőgépre', value: 2300 },
                { name: 'Éves Füles magazin előfizetés', value: 750 }, { name: 'Kemping gázfőző és palack', value: 1400 },
                { name: 'Elektronika zsebszámológép', value: 950 }, { name: 'Trabant tetőcsomagtartó', value: 850 },
                { name: 'Eredeti szőrmés "Kucsma" sapka', value: 1100 }, { name: 'Horgolt terítő szett a tévére', value: 450 },
                { name: 'Gorenje mélyhűtőláda', value: 11000 }, { name: 'Pajtás fényképezőgép', value: 1600 },
                { name: 'SZOT üdülési beutaló', value: 7000 }, { name: 'Karsai gumimatrac és pumpa', value: 1200 },
                { name: 'Teljes Kincskereső Kisködmön könyvsorozat', value: 800 }, { name: 'Prémium minőségű Halasi csipketerítő', value: 13000 },
                { name: 'Éves Film, Színház, Muzsika előfizetés', value: 600 }, { name: 'Start márkájú versenykerékpár', value: 5500 },
                { name: 'Patyolat Tisztító utalvány', value: 1000 }, { name: 'Varia bútorcsalád dohányzóasztala', value: 3200 },
                { name: 'Praktica MTL 5B fényképezőgép szett', value: 9500 }, { name: 'Eredeti Zsolnay porcelán váza', value: 6500 },
                { name: 'Egy rekesz Kőbányai Világos sör', value: 500 }, { name: 'Taurus gumicsizma garnitúra', value: 750 },
                { name: 'Éva Asszony konyhai mérleg', value: 900 }, { name: 'Gelka szervíz utalvány', value: 3000 },
                { name: 'Komplett LGT és Omega bakelit lemez gyűjtemény', value: 4500 }, { name: 'Hajdú keverőtárcsás mosógép', value: 5800 },
                { name: 'Románc bútorbolt vásárlási utalvány', value: 10000 }, { name: 'Hétvégi telek a Mátra lábánál', value: 50000 },
                { name: 'Limó üdítőpor óriáscsomag', value: 350 }, { name: 'Mecsek cukrászda sütemény utalvány', value: 1500 }
            ];
            
            const wheelSegmentsR1 = [
                { label: '300', value: 300, color: '#4caf50' }, { label: 'CSŐD', value: 'bankrupt', color: '#212121' },
                { label: '500', value: 500, color: '#f44336' }, { label: '250', value: 250, color: '#8bc34a' },
                { label: 'SÚGÁS', value: 'hint', color: '#9c27b0' }, { label: '650', value: 650, color: '#e91e63' },
                { label: 'KÜLÖNDÍJ', value: 'special_prize', color: '#c0c0c0' }, { label: '400', value: 400, color: '#ff9800' },
                { label: '350', value: 350, color: '#4caf50' }, { label: '600', value: 600, color: '#e91e63' },
                { label: '+2500', value: 2500, color: '#3f51b5', isBonus: true }, { label: '450', value: 450, color: '#ff9800' },
                { label: 'DUPLA/SEMMI', value: 'double_or_nothing', color: '#673ab7'}, { label: '700', value: 700, color: '#00bcd4' },
                { label: 'CSŐD', value: 'bankrupt', color: '#212121' }, { label: '800', value: 800, color: '#f44336' },
                { label: '550', value: 550, color: '#8bc34a' }, { label: '1000', value: 1000, color: '#ffc107' },
                { label: '750', value: 750, color: '#00bcd4' }, { label: '900', value: 900, color: '#e91e63' }
            ];
            const wheelSegmentsR2 = [
                { label: '600', value: 600, color: '#4caf50' }, { label: 'CSŐD', value: 'bankrupt', color: '#212121' },
                { label: '800', value: 800, color: '#f44336' }, { label: '1100', value: 1100, color: '#ffeb3b' },
                { label: 'SÚGÁS', value: 'hint', color: '#9c27b0' }, { label: '1300', value: 1300, color: '#ffc107' },
                { label: 'KÜLÖNDÍJ', value: 'special_prize', color: '#c0c0c0' }, { label: 'KÜLÖNDÍJ', value: 'special_prize', color: '#c0c0c0' },
                { label: '700', value: 700, color: '#ff9800' }, { label: '+5000', value: 5000, color: '#3f51b5', isBonus: true },
                { label: 'CSŐD', value: 'bankrupt', color: '#212121' }, { label: '1500', value: 1500, color: '#f44336' },
                { label: 'DUPLA/SEMMI', value: 'double_or_nothing', color: '#673ab7'}, { label: '900', value: 900, color: '#e91e63' },
                { label: '650', value: 650, color: '#4caf50' }, { label: '1000', value: 1000, color: '#ffc107' },
                { label: '1200', value: 1200, color: '#8bc34a' }, { label: '2000', value: 2000, color: '#ffc107' },
                { label: '850', value: 850, color: '#ff9800' }, { label: '1750', value: 1750, color: '#f44336' }
            ];
            const wheelSegmentsR3 = [
                { label: '1000', value: 1000, color: '#4caf50' }, { label: 'CSŐD', value: 'bankrupt', color: '#212121' },
                { label: '1500', value: 1500, color: '#f44336' }, { label: '2500', value: 2500, color: '#ffeb3b' },
                { label: 'DUPLA/SEMMI', value: 'double_or_nothing', color: '#9c27b0' }, { label: '750', value: 750, color: '#8bc34a' },
                { label: 'SÚGÁS', value: 'hint', color: '#607d8b' }, { label: 'KÜLÖNDÍJ', value: 'special_prize', color: '#c0c0c0' },
                { label: '2000', value: 2000, color: '#ff9800' }, { label: 'EXPRESSZ', value: 'express', color: '#d92027' },
                { label: 'CSŐD', value: 'bankrupt', color: '#212121' }, { label: '4000', value: 4000, color: '#f44336' },
                { label: '1200', value: 1200, color: '#e91e63' }, { label: '+7500', value: 7500, color: '#3f51b5', isBonus: true },
                { label: '1750', value: 1750, color: '#ff9800' }, { label: 'KÜLÖNDÍJ', value: 'special_prize', color: '#c0c0c0' },
                { label: '3000', value: 3000, color: '#8bc34a' }, { label: '5000', value: 5000, color: '#cddc39' },
                { label: '900', value: 900, color: '#4caf50' }, { label: '3500', value: 3500, color: '#ffc107' }
            ];
            const wheelSegmentSets = [wheelSegmentsR1, wheelSegmentsR2, wheelSegmentsR3];
            
            const PUZZLES_PER_HOUR = 10;
            const VOWELS = "AÁEÉIÍOÓÖŐUÚÜŰ";
            const FULL_ALPHABET = "AÁBCDEÉFGHIÍJKLMNOÓÖŐPQRSTUÚÜŰVWXYZ";
            const VOWEL_COST = 250;
            const MAX_VOWELS_PER_ROUND = 5;
            const SOLVE_BONUSES = [5000, 7000, 10000, 10000, 12000, 12000, 15000, 15000, 15000, 25000];
            const HUGE_WIN_THRESHOLD = 4000;
            const MILLIONAIRE_THRESHOLD = 1000000;
            const MAIN_PRIZE_THRESHOLD = 150000;
            const MAIN_PRIZE_TIME = 30;

            const HOST_MESSAGES = {
                start_game: ["Tamási Eszter legendás mosolyával köszöntöm Önöket a stúdióban! Kezdődjék a játék!", "Induljon a műsor a legújabb Videoton Color Star készülékeken! Lássuk az első feladványt!", "Jó estét kívánok, itt az Ablak! Ma a betűk világába tekintünk be. Sok szerencsét!", "A Magyar Televízió bemutatja: a Szerencsekerék! A kamerák forognak, a szalag pereg!"],
                start_round: ["Jön a(z) <strong>{round}. forduló</strong>! Ahogy a 'Ki mit tud?'-on mondanák: lássuk a produkciót!", "Új forduló, új remények! Kapcsoljuk a betűfalat, mint Kudlik Júlia a Deltát!", "Következzen a(z) <strong>{round}. forduló</strong>! Remélem, mindenki elvégezte a Tévétornát, mert kelleni fog az energia!"],
                start_golden_round: ["Figyelem, ez egy <strong>⭐ ARANY FELADVÁNY!</strong> A nyeremény dupla, akár egy Komár László koncerten a hangulat!", "Rendkívüli közlemény! <strong>⭐ ARANY FELADVÁNY</strong> következik! Itt nagyot lehet kaszálni, nem csak maszekban!"],
                sunday_greeting: ["Vasárnap reggel a 'Cimbora' helyett ma a Szerencsekerék pörög! Tegye meg a tétjét a heti kasszából!", "Üdv a Szerencse Vasárnapban! Itt a tét nem egy doboz Symphonia, hanem a heti nyeremény!"],
                power_up: ["Bemelegítésként jöjjön egy kis Tévétorna! Lendítsen a keréken, ahogy Müller Kati a karjával!", "Adjon neki egy kis kakaót! A gomb megnyomásával állítsa be a pörgés erősségét, ahogy Dévényi Tibi bácsi mondaná!", "Koncentráljon, mint Vitray Tamás egy sportközvetítésen! Állítsa be a tökéletes pörgetést!"],
                spinning: ["Pörög a kerék, mint a Zenebutikban a diszkógömb!", "A szerencse forgandó, ahogy Antal Imre mondaná a Szeszélyes Évszakokban!", "Forog a kerék, reméljük nem áll meg a CSŐD-nél, mert az olyan lenne, mint egy hétfői adásszünet!", "Lássuk, mit dob a gép, Taki bácsi!"],
                spin_result: ["Vágó István is elégedetten csettintene: <strong>{value}</strong> forint a tét! Melyik mássalhangzóra gondolt, kedves Játékos?", "A mutató <strong>{value}</strong> forinton állapodott meg! Ezért az összegért várom a betűt!", "<strong>{value}</strong> forint! Szép summa, ebből már egy Skála áruházban is lehet nézelődni! Jöhet a mássalhangzó!"],
                near_miss_bankrupt: ["Hűha, ez olyan közel volt a csődhöz, mint a szomszédok a panelban! De megvan a <strong>{value}&nbsp;Ft</strong>!", "Megúszta! A mutató már majdnem a CSŐD-re csúszott, de végül <strong>{value}&nbsp;Ft</strong> lett belőle, fellélegezhetünk!"],
                bankrupt: ["Jaj, ne! Ez a fekete leves! A <strong>CSŐD</strong> mindent vitt, mint a nagy államosítás!", "Ennyi volt, mint a pesti flaszteron a Trapper farmer. A fordulós kassza elszakadt!", "A nyeremény elszállt, mint a Trabant füstje. De a remény hal meg utoljára, ahogy a Dallasban is mondanák!", "Jaj, a csőd! Ez most hidegzuhany, mint egy rosszul fűtött KISZ-táborban!"],
                bankrupt_sunday: ["Ó, a végzet! A <strong>CSŐD</strong> nemcsak a fordulós pénzt, de a feltett <strong>{bet}&nbsp;Ft-os tétet is elvitte!</strong> Ez a vasárnapi játék kockázata, kérem tisztelettel."],
                lose_turn: ["Most pihen egy kört, mint a brigád a munkaverseny után.", "<strong>KIMARADSZ!</strong> Egy pillanatnyi pihenő, amíg a többiek próbálkoznak... ja, hogy csak Ön van itt? Sebaj!", "Sajnos most át kell adnia a lehetőséget, mint a sorban állásnál az utolsó vevő a Centrum Áruházban."],
                hint: ["Látom, elakadt. A stúdióból súgnak egy kicsit, mint a 'Van benne valami'-ben: <strong>{hint}</strong>. Most újra pörgethet!", "Egy kis segítség a Magyar Televízió jóvoltából: <strong>{hint}</strong>. Folytassa a játékot!"],
                bonus_points: ["<strong>+{value}&nbsp;FT!</strong> Azonnali nyeremény! Ez gyorsabb volt, mint egy pártkongresszusi tapsvihar! Gratulálok!", "Azonnali <strong>{value}&nbsp;Ft</strong>! Ezt csak úgy zsebre teheti, nem kell érte öt éves tervet teljesíteni!"],
                express: ["<strong>EXPRESSZ!</strong> Felszállt a szerencsevonatra! Minden helyes mássalhangzó 1000 Ft, és addig jöhet, amíg nem hibázik, mint Pataki Attila a szöveggel!"],
                double_or_nothing_prompt: ["<strong>DUPLA VAGY SEMMI!</strong> Itt a nagy lehetőség, ahogy Hofi mondaná: 'A kocka el van vetve!' Mondjon egy mássalhangzót a duplázásért!", "Kockáztat vagy kimarad? Egy mássalhangzó, és a <strong>{points}&nbsp;Ft</strong> duplázódik, vagy megy a levesbe!"],
                double_win: ["<strong>DUPLA!</strong> Bejött a kockázat, megduplázta a körös forintjait! Most <strong>{points}&nbsp;Ft</strong>-ja van! Ön egy igazi Mester, akár az Ezermester újságban!"],
                double_lose: ["<strong>SEMMI!</strong> A szerencse most elpártolt, a tipp rossz volt, a körös forintok elúsztak. Ne keseredjen el, még a végén kiderül, hogy a Jockey csak álmodta az egészet!"],
                correct_consonant: ["Ez a betű bejött, mint a nyugati csomag a rokonoktól! <strong>{count}</strong> darab, <strong>{earnings}&nbsp;Ft</strong>!", "Ott van a táblán, mint a bólogatós kutya a Lada kalaptartóján! Ez <strong>{earnings}&nbsp;Ft</strong>-ot ér!", "Tökéletes! Ez a betű annyira a helyén van, mint a horgolt terítő a tévén! <strong>{count}</strong> darab, <strong>{earnings}&nbsp;Ft</strong>!"],
                huge_win_consonant: ["Fantasztikus! Egyetlen betűvel <strong>{earnings}&nbsp;Ft</strong>-ot zsebelt be! Ebből már egy komplett hétvégi telek is kijön a Dunakanyarban! Gratulálok!"],
                correct_vowel: ["Megvan! A magánhangzó a helyén, mint Vágási Feri a számítógép előtt! Van belőle <strong>{count}</strong> darab!", "Jól gondolta, a táblán van <strong>{count}</strong> ilyen betű! Haladunk, mint a 4-es 6-os a Nagykörúton!"],
                wrong_letter: ["Sajnos ez a betű most nincs a stúdióban, talán a presszóban kávézik.", "Ez a tipp most mellément, mint a KGST-piacon a hamisított Trapper farmer.", "A betűfal nemet intett. Sebaj, a következő körben javíthat, addig is hallgasson egy kis Neoton Famíliát!"],
                solve_success: ["<strong>MEGFEJTÉS!</strong> Gratulálok, zseniális! Ön egy igazi FŐNYEREMÉNY! Ebből már egy balatoni KISZ-tábor is kijön! <strong>{totalGained}&nbsp;Ft</strong> üti a markát!", "Kiváló! A megfejtésért járó bónusszal együtt <strong>{totalGained}&nbsp;Ft</strong> került az órai kasszába! Ez szebb, mint egy új Alföldi papucs!"],
                solve_golden_success: ["<strong>ARANY MEGFEJTÉS! DUPLA PÉNZ!</strong> Hatalmas gratuláció, <strong>{totalGained}&nbsp;Ft</strong> az órai jutalma! Ebből már egy Lada is kitelik, nem csak egy Camping bicikli!"],
                solve_sunday_success: ["<strong>SIKERES KÖR!</strong> A <strong>{bet}&nbsp;Ft-os tét visszajár</strong>, és <strong>{totalGained}&nbsp;Ft</strong>-tal gyarapodott a Heti Kassza! Szép volt, elvtárs... akarom mondani, játékos!"],
                solve_fail: ["Hoppá, ez majdnem jó volt, de csak majdnem! A tévedés <strong>{penalty}&nbsp;Ft</strong>-ba került, de a játék megy tovább, mint a Szomszédok!"],
                game_over: ["Az erre az órára szánt játék véget ért. Köszönöm a játékot! A végső nyereménye: <strong>{score}&nbsp;Ft</strong>. Ne feledjék, hétfőn adásszünet!"],
                main_prize_qualified: ["<strong>Gratulálok!</strong> Elérte a Fődíj Játékhoz szükséges küszöböt! Ha minden feladványt megfejt, esélye lesz megduplázni az órai nyereményét, ami nagyobb szám, mint a BNV látogatottsága!"],
                main_prize_win: ["HIHETETLEN! MEGVAN! Ön megnyerte a Fődíjat! A nyereménye megduplázva: <strong>{winnings}&nbsp;Ft!</strong> Dévényi Tibi bácsi szavaival élve: Hatalmas gratula, csoki, puszi, pacsi!"],
                main_prize_lose: ["Jaj, ne! Sajnos nem ez volt a helyes megfejtés. A Fődíj elúszott, és vele az órai nyeremény is. De ne csüggedjen, a játék a fontos!"],
                main_prize_lose_timeout: ["Lejárt az idő! Ó, milyen kár! Egy hajszálon múlt! A Fődíj sajnos nem lett meg, mint ahogy a banán a Zöldségesnél. Köszönjük a játékot!"],
                turn_end: ["Újra önnél a lehetőség! Pörgessen, vagy vegyen magánhangzót egy Fabulon naptej áráért!", "Ismét öné a terep! Mutassa meg, mit tud, ne legyen rest, mint a lottóhúzás előtti utolsó percek!"],
                no_consonants: ["A mássalhangzó-készlet kiürült, mint a polcok a Centrum Áruházban karácsony előtt! Most már csak magánhangzót vehet, vagy megfejtheti!"]
            };
            
            // =================================================================================
            // === JÁTÉK LOGIKA =================================================================
            // =================================================================================

            let gameState;
            let hourlyPuzzleIndices = [];
            let currentModal = { resolve: null, reject: null };
            let isSunday = new Date().getDay() === 0;
            let mainPrizeTimerInterval;
            let powerUpStartTime = 0;
            let powerUpAnimationId;
            
            const wheel = document.getElementById('wheel');
            const solveButton = document.getElementById('solve-button');
            const newGameButton = document.getElementById('new-game-button');
            const puzzleBoard = document.getElementById('puzzle-board');
            const puzzleCategory = document.getElementById('puzzle-category');
            const scoreDisplay = document.getElementById('score-display');
            const hourlyWinningsDisplay = document.getElementById('hourly-winnings-display');
            const roundWinningsDisplay = document.getElementById('round-winnings-display');
            const roundDisplay = document.getElementById('round-display');
            const hourBlockDisplay = document.getElementById('hour-block-display');
            const roundInfoContainer = document.getElementById('round-info-container');
            const hostMessage = document.getElementById('host-message');
            const alphabetPanel = document.getElementById('alphabet-panel');
            const mainHudLabel = document.getElementById('main-hud-label');
            const wonPrizeContainer = document.getElementById('won-prize-container');
            const wonPrizeName = document.getElementById('won-prize-name');
            const modalOverlay = document.getElementById('custom-modal');
            const modalTitle = document.getElementById('modal-title');
            const modalText = document.getElementById('modal-text');
            const solveInput = document.getElementById('solve-input');
            const modalButtonsContainer = modalOverlay.querySelector('.modal-buttons');
            const mainPrizeModal = document.getElementById('main-prize-modal');
            const mainPrizeCategory = document.getElementById('main-prize-category');
            const mainPrizeBoard = document.getElementById('main-prize-board');
            const mainPrizeGivenLetters = document.getElementById('main-prize-given-letters');
            const mainPrizeTimer = document.getElementById('main-prize-timer');
            const mainPrizeSolveInput = document.getElementById('main-prize-solve-input');
            const mainPrizeConfirmBtn = document.getElementById('main-prize-confirm-btn');
            const mainPrizeProgress = document.getElementById('main-prize-progress');
            const mainPrizeAlphabetContainer = document.getElementById('main-prize-alphabet-panel-container');

            const POWER_BAR_RADIUS = 14;
            const POWER_BAR_CIRCUMFERENCE = 2 * Math.PI * POWER_BAR_RADIUS;

            function getWeekNumber(d) {
                d = new Date(Date.UTC(d.getFullYear(), d.getMonth(), d.getDate()));
                d.setUTCDate(d.getUTCDate() + 4 - (d.getUTCDay()||7));
                var yearStart = new Date(Date.UTC(d.getUTCFullYear(),0,1));
                var weekNo = Math.ceil(( ( (d - yearStart) / 86400000) + 1)/7);
                return d.getUTCFullYear() + '-' + weekNo;
            }

            function loadWeeklyScore() {
                const currentWeek = getWeekNumber(new Date());
                const savedWeek = localStorage.getItem('bekebeliWeekId');
                if (currentWeek !== savedWeek) {
                    localStorage.setItem('bekebeliWeeklyScore', '0');
                    localStorage.setItem('bekebeliWeekId', currentWeek);
                }
                return parseInt(localStorage.getItem('bekebeliWeeklyScore') || '0', 10);
            }

            function saveWeeklyScore(score) {
                 localStorage.setItem('bekebeliWeeklyScore', score.toString());
            }

            function seededRandom(seed) {
                let state = seed;
                return function() {
                    state = (state * 9301 + 49297) % 233280;
                    return state / 233280;
                };
            }

            function getHourlyPuzzles(randomGenerator) {
                // Létrehoz egy tömböt a feladványok indexeiből, KISZŰRVE a fődíj feladványokat
                const regularPuzzles = allPuzzles.map((p, i) => ({...p, originalIndex: i}))
                                                 .filter(p => p.category !== 'Fődíj Feladvány');
                const puzzleIndices = regularPuzzles.map(p => p.originalIndex);
                
                // Megkeveri az indexek tömbjét az óra-alapú (seeded) véletlenszám-generátorral
                for (let i = puzzleIndices.length - 1; i > 0; i--) {
                    const j = Math.floor(randomGenerator() * (i + 1));
                    [puzzleIndices[i], puzzleIndices[j]] = [puzzleIndices[j], puzzleIndices[i]];
                }
                
                // Visszaadja az első 10 (vagy kevesebb, ha nincs annyi) indexet a kevert listából
                return puzzleIndices.slice(0, Math.min(PUZZLES_PER_HOUR, puzzleIndices.length));
            }
            
            function getRandomMessage(category, replacements = {}) {
                const messages = HOST_MESSAGES[category];
                if (!messages) return `HIÁNYZÓ ÜZENET: ${category}`;
                let message = messages[Math.floor(Math.random() * messages.length)];
                for (const key in replacements) {
                    message = message.replace(new RegExp(`{${key}}`, 'g'), replacements[key]);
                }
                return message;
            }

            function resetGameState(isNewGame = false) {
                const oldState = gameState;
                gameState = {
                    playerScore: isNewGame ? loadWeeklyScore() : (oldState ? oldState.playerScore : 0),
                    hourlyWinnings: isNewGame ? 0 : (oldState ? oldState.hourlyWinnings : 0),
                    roundWinnings: 0,
                    currentRound: isNewGame ? 1 : (oldState ? oldState.currentRound + 1 : 1),
                    totalRounds: isNewGame ? 0 : (oldState ? oldState.totalRounds : 0),
                    puzzleHourId: isNewGame ? null : (oldState ? oldState.puzzleHourId : null),
                    goldenPuzzleRounds: isNewGame ? [] : (oldState ? oldState.goldenPuzzleRounds : []),
                    currentBet: 0,
                    currentSpinValue: null,
                    isSpinning: false,
                    isPoweringUp: false,
                    awaitingConsonant: false,
                    isDoubleOrNothingTurn: false,
                    isExpressTurn: false,
                    inMainPrizeSelection: false,
                    noMoreConsonants: false,
                    guessedLetters: [],
                    vowelsPurchasedThisRound: 0,
                    hintUsed: false,
                    specialPrizeWon: isNewGame ? false : (oldState ? oldState.specialPrizeWon : false),
                    wonPrizes: isNewGame ? [] : (oldState ? oldState.wonPrizes : []),
                    mainPrizeQualifiedNotified: false,
                    isMillionaire: false
                };
            }

            function setupPuzzleBoard(boardElement, puzzleData) {
                boardElement.innerHTML = '';
                const words = puzzleData.puzzle.toUpperCase().split(' ');
                const rows = [];
                let currentRow = [];
                let currentLength = 0;
                const maxRowLength = window.innerWidth < 480 ? 10 : 14;
                
                words.forEach(word => {
                    if (currentLength + word.length > maxRowLength && currentRow.length > 0) {
                        rows.push(currentRow);
                        currentRow = [];
                        currentLength = 0;
                    }
                    currentRow.push(word);
                    currentLength += word.length + 1;
                });
                rows.push(currentRow);

                rows.forEach(wordArray => {
                    const rowDiv = document.createElement('div');
                    rowDiv.className = 'puzzle-row';
                    wordArray.forEach((word, wordIndex) => {
                        word.split('').forEach(char => {
                            const tile = document.createElement('div');
                            if (char === ' ') {
                                tile.className = 'puzzle-tile space';
                            } else if (FULL_ALPHABET.includes(char)) {
                                tile.className = 'puzzle-tile';
                                tile.innerHTML = `<div class="tile-inner"><div class="tile-face tile-front"></div><div class="tile-face tile-back">${char}</div></div>`;
                                tile.dataset.letter = char;
                            } else {
                                tile.className = 'puzzle-tile special-char';
                                tile.textContent = char;
                            }
                            rowDiv.appendChild(tile);
                        });
                        
                        if(wordIndex < wordArray.length - 1) {
                             const spaceTile = document.createElement('div');
                             spaceTile.className = 'puzzle-tile space';
                             rowDiv.appendChild(spaceTile);
                        }
                    });
                    boardElement.appendChild(rowDiv);
                });
            }

            function createAlphabetPanel() {
                alphabetPanel.innerHTML = '';
                FULL_ALPHABET.split('').forEach(letter => {
                    const key = document.createElement('button');
                    key.className = 'alphabet-key';
                    key.textContent = letter;
                    key.dataset.letter = letter;
                    if (VOWELS.includes(letter)) key.classList.add('vowel');
                    key.addEventListener('click', () => handleLetterGuess(letter));
                    alphabetPanel.appendChild(key);
                });
            }
            
            function updateAlphabetPanel() {
                const inMainPrizeMode = gameState.inMainPrizeSelection;
                const selectedConsonants = gameState.mainPrizeConsonants?.length || 0;
                const selectedVowels = gameState.mainPrizeVowels?.length || 0;

                document.querySelectorAll('.alphabet-key').forEach(key => {
                    const letter = key.dataset.letter;
                    const isVowel = VOWELS.includes(letter);
                    let isDisabled = false;

                    if (inMainPrizeMode) {
                        isDisabled = (isVowel && selectedVowels >= 1) || (!isVowel && selectedConsonants >= 5) || gameState.guessedLetters.includes(letter);
                    } else {
                        isDisabled = gameState.guessedLetters.includes(letter) || gameState.isSpinning;
                        if (isVowel) {
                            isDisabled = isDisabled || gameState.awaitingConsonant || gameState.isDoubleOrNothingTurn || gameState.roundWinnings < VOWEL_COST || gameState.vowelsPurchasedThisRound >= MAX_VOWELS_PER_ROUND;
                        } else { // Consonant
                            isDisabled = isDisabled || (!gameState.awaitingConsonant && !gameState.isExpressTurn && !gameState.isDoubleOrNothingTurn);
                        }
                    }
                    key.disabled = isDisabled;
                });
            }


            function polarToCartesian(cx, cy, r, angle) {
                const rad = (angle - 90) * Math.PI / 180.0;
                return { x: cx + (r * Math.cos(rad)), y: cy + (r * Math.sin(rad)) };
            }
            
            function drawWheel(round) {
                const wheelSetIndex = Math.min(round - 1, wheelSegmentSets.length - 1);
                wheel.innerHTML = '';
                const segments = JSON.parse(JSON.stringify(wheelSegmentSets[wheelSetIndex]));
                
                if (gameState.specialPrizeWon && round > 1) {
                    const prizeIndex = segments.findIndex(s => s.value === 'special_prize');
                    if (prizeIndex !== -1) {
                        segments[prizeIndex] = { label: '1000', value: 1000, color: '#4caf50' };
                    }
                }

                const numSegments = segments.length;
                const angleStep = 360 / numSegments;
                const radius = 50;
                const center = 50;
                
                const bgCircle = document.createElementNS("http://www.w3.org/2000/svg", "circle");
                bgCircle.setAttribute("cx", center);
                bgCircle.setAttribute("cy", center);
                bgCircle.setAttribute("r", radius);
                bgCircle.setAttribute("fill", "#333");
                wheel.appendChild(bgCircle);

                for (let i = 0; i < numSegments; i++) {
                    const segment = segments[i];
                    const startAngle = i * angleStep;
                    const endAngle = (i + 1) * angleStep;
                    const start = polarToCartesian(center, center, radius, endAngle);
                    const end = polarToCartesian(center, center, radius, startAngle);
                    const largeArcFlag = endAngle - startAngle <= 180 ? "0" : "1";
                    
                    const d = `M ${start.x} ${start.y} A ${radius} ${radius} 0 ${largeArcFlag} 0 ${end.x} ${end.y} L ${center} ${center} Z`;
                    
                    const path = document.createElementNS("http://www.w3.org/2000/svg", "path");
                    path.setAttribute("d", d);
                    path.setAttribute("fill", segment.color);
                    path.setAttribute("stroke", "rgba(0,0,0,0.4)");
                    path.setAttribute("stroke-width", "0.5");
                    path.id = `wheel-segment-${i}`;
                    wheel.appendChild(path);

                    const textAngle = startAngle + angleStep / 2;
                    const textPos = polarToCartesian(center, center, radius * 0.7, textAngle);
                    const text = document.createElementNS("http://www.w3.org/2000/svg", "text");
                    text.setAttribute("x", textPos.x);
                    text.setAttribute("y", textPos.y);
                    text.setAttribute("text-anchor", "middle");
                    text.setAttribute("dominant-baseline", "middle");
                    text.setAttribute("font-weight", "bold");
                    text.setAttribute("font-size", segment.value === 'special_prize' ? "3.2px" : "3.5px");
                    text.setAttribute("fill", (typeof segment.value === 'number' && segment.value < 5000) || segment.value === 'special_prize' ? '#111' : 'white');
                    text.setAttribute("transform", `rotate(${textAngle + 90} ${textPos.x} ${textPos.y})`);
                    
                    const words = segment.label.split(' ');
                    if (words.length > 1) {
                         words.forEach((word, index) => {
                            const tspan = document.createElementNS("http://www.w3.org/2000/svg", "tspan");
                            tspan.setAttribute("x", textPos.x);
                            tspan.setAttribute("dy", `${index === 0 ? -0.5 * (words.length - 1) * 3.8 : 3.8}`);
                            tspan.textContent = word;
                            text.appendChild(tspan);
                        });
                    } else {
                        text.textContent = segment.label;
                    }
                    wheel.appendChild(text);

                    const pegPos = polarToCartesian(center, center, radius - 1, startAngle);
                    const peg = document.createElementNS("http://www.w3.org/2000/svg", "circle");
                    peg.setAttribute("cx", pegPos.x);
                    peg.setAttribute("cy", pegPos.y);
                    peg.setAttribute("r", 0.8);
                    peg.setAttribute("fill", "silver");
                    peg.setAttribute("stroke", "black");
                    peg.setAttribute("stroke-width", "0.2");
                    wheel.appendChild(peg);
                }

                const hubGroup = document.createElementNS("http://www.w3.org/2000/svg", "g");
                hubGroup.id = 'wheel-hub';

                const hub = document.createElementNS("http://www.w3.org/2000/svg", "circle");
                hub.setAttribute("cx", center);
                hub.setAttribute("cy", center);
                hub.setAttribute("r", "12");
                hub.setAttribute("fill", "#666");
                hub.setAttribute("stroke", "#333");
                hub.setAttribute("stroke-width", "1");
                hubGroup.appendChild(hub);
                
                const hubShine = document.createElementNS("http://www.w3.org/2000/svg", "circle");
                hubShine.setAttribute("cx", center);
                hubShine.setAttribute("cy", center);
                hubShine.setAttribute("r", "10");
                hubShine.setAttribute("fill", "#aaa");
                hubGroup.appendChild(hubShine);

                const powerBar = document.createElementNS("http://www.w3.org/2000/svg", "circle");
                powerBar.id = 'power-bar';
                powerBar.setAttribute('cx', center);
                powerBar.setAttribute('cy', center);
                powerBar.setAttribute('r', POWER_BAR_RADIUS);
                powerBar.setAttribute('fill', 'transparent');
                powerBar.setAttribute('stroke-width', '2');
                powerBar.setAttribute('stroke', 'var(--gold-color)');
                powerBar.style.strokeDasharray = POWER_BAR_CIRCUMFERENCE;
                powerBar.style.strokeDashoffset = POWER_BAR_CIRCUMFERENCE;
                hubGroup.appendChild(powerBar);

                const hubText = document.createElementNS("http://www.w3.org/2000/svg", "text");
                hubText.id = 'hub-text';
                hubText.setAttribute('x', center);
                hubText.setAttribute('y', center + 0.5); // Slight vertical adjustment for better centering
                hubText.setAttribute('font-size', '4.5px');
                hubText.setAttribute('font-weight', 'bold');
                hubText.setAttribute('text-anchor', 'middle');
                hubText.setAttribute('dominant-baseline', 'middle');
                hubText.setAttribute('fill', 'white');
                hubText.textContent = "PÖRGETÉS";
                hubGroup.appendChild(hubText);
                
                wheel.appendChild(hubGroup);
                hubGroup.addEventListener('click', handleHubClick);
            }
            
            function resetSpinControls() {
                const hub = document.getElementById('wheel-hub');
                const hubText = document.getElementById('hub-text');
                const powerBar = document.getElementById('power-bar');
                
                if (hub) hub.classList.remove('disabled');
                if (hubText) hubText.textContent = 'PÖRGETÉS';
                if (powerBar) {
                    powerBar.style.transition = 'none';
                    powerBar.style.strokeDashoffset = POWER_BAR_CIRCUMFERENCE;
                }
                setTimeout(() => {
                    if (powerBar) powerBar.style.transition = '';
                }, 50);
            }

            function updateUI() {
                scoreDisplay.textContent = `${gameState.playerScore.toLocaleString('hu-HU')} Ft`;
                hourlyWinningsDisplay.textContent = `${gameState.hourlyWinnings.toLocaleString('hu-HU')} Ft`;
                
                let roundWinningsText = `${gameState.roundWinnings.toLocaleString('hu-HU')} Ft`;
                if(isSunday && gameState.currentBet > 0){
                    roundWinningsText = `${gameState.roundWinnings.toLocaleString('hu-HU')} / -${gameState.currentBet.toLocaleString('hu-HU')} Ft`;
                }
                roundWinningsDisplay.textContent = roundWinningsText;

                if(gameState.totalRounds > 0){
                    roundInfoContainer.style.display = 'flex';
                    roundDisplay.textContent = `Forduló: ${gameState.currentRound}/${gameState.totalRounds}`;
                    const date = new Date(gameState.puzzleHourId * 60 * 60 * 1000);
                    hourBlockDisplay.textContent = `Adás: ${date.getHours()}:00 órai blokk`;
                } else {
                    roundInfoContainer.style.display = 'none';
                }

                wonPrizeContainer.style.display = gameState.wonPrizes.length > 0 ? 'flex' : 'none';
                if (gameState.wonPrizes.length > 0) {
                    wonPrizeName.textContent = gameState.wonPrizes.join(', ');
                }

                solveButton.disabled = gameState.isSpinning || gameState.awaitingConsonant || gameState.isDoubleOrNothingTurn;
                
                const hub = document.getElementById('wheel-hub');
                if (hub) {
                    const canSpin = !gameState.isSpinning && !gameState.awaitingConsonant && !gameState.isExpressTurn && !gameState.noMoreConsonants && !gameState.isDoubleOrNothingTurn;
                    if (!canSpin) {
                        hub.classList.add('disabled');
                    } else {
                         hub.classList.remove('disabled');
                    }
                }
                
                updateAlphabetPanel();
                updateMainPrizeProgress();
            }

            function updateMainPrizeProgress() {
                if (isSunday || gameState.currentRound > gameState.totalRounds) {
                    mainPrizeProgress.style.display = 'none';
                    return;
                }

                mainPrizeProgress.style.display = 'block';
                if (gameState.hourlyWinnings >= MAIN_PRIZE_THRESHOLD) {
                    mainPrizeProgress.innerHTML = `🏆 <strong>Jogosult a Fődíj Játékra!</strong>`;
                    if (!gameState.mainPrizeQualifiedNotified) {
                        updateHostMessage(getRandomMessage('main_prize_qualified', { threshold: MAIN_PRIZE_THRESHOLD.toLocaleString('hu-HU') }), true);
                        gameState.mainPrizeQualifiedNotified = true;
                    }
                } else {
                    const needed = MAIN_PRIZE_THRESHOLD - gameState.hourlyWinnings;
                    mainPrizeProgress.innerHTML = `A Fődíj Játékhoz hiányzik még: <strong>${needed.toLocaleString('hu-HU')} Ft</strong>`;
                }
            }


            function updateHostMessage(message, isImportant = false) {
                hostMessage.innerHTML = message;
                hostMessage.style.borderColor = isImportant ? 'var(--gold-color)' : 'rgba(244, 233, 216, 0.5)';
            }

            function showModal({title, text, showInput = false, inputType='text', confirmText = 'Rendben', cancelText = 'Mégse', showCancel = true}) {
                return new Promise((resolve, reject) => {
                    modalButtonsContainer.innerHTML = ''; 

                    const confirmBtn = document.createElement('button');
                    confirmBtn.className = 'modal-btn confirm';
                    confirmBtn.textContent = confirmText;
                    confirmBtn.onclick = () => {
                        const value = solveInput.style.display === 'block' ? solveInput.value : true;
                        closeModal(value);
                    };
                    modalButtonsContainer.appendChild(confirmBtn);

                    if (showCancel) {
                        const cancelBtn = document.createElement('button');
                        cancelBtn.className = 'modal-btn cancel';
                        cancelBtn.textContent = cancelText;
                        cancelBtn.onclick = () => closeModal(false);
                        modalButtonsContainer.appendChild(cancelBtn);
                    }

                    modalTitle.textContent = title;
                    modalText.innerHTML = text;
                    solveInput.type = inputType;
                    solveInput.style.display = showInput ? 'block' : 'none';
                    if (showInput) {
                        solveInput.value = '';
                        setTimeout(() => solveInput.focus(), 100);
                    }
                    
                    modalOverlay.classList.add('visible');
                    currentModal.resolve = resolve;
                    currentModal.reject = reject;
                });
            }

            function closeModal(value) {
                modalOverlay.classList.remove('visible');
                if (value !== false && currentModal.resolve) {
                    currentModal.resolve(value);
                } else if (currentModal.reject) {
                    currentModal.reject();
                }
                currentModal = { resolve: null, reject: null };
            }

            function powerUpLoop() {
                const elapsedTime = performance.now() - powerUpStartTime;
                const cycleTime = 1500; // ms for a full loop
                const progress = (elapsedTime % cycleTime) / cycleTime; // 0 to 1
                
                const powerBar = document.getElementById('power-bar');
                if (powerBar) {
                    powerBar.style.strokeDashoffset = POWER_BAR_CIRCUMFERENCE * (1 - progress);
                }
                powerUpAnimationId = requestAnimationFrame(powerUpLoop);
            }
            
            function handleHubClick() {
                const hub = document.getElementById('wheel-hub');
                if (hub.classList.contains('disabled')) return;

                const hubText = document.getElementById('hub-text');

                if (!gameState.isPoweringUp) {
                    gameState.isPoweringUp = true;
                    hubText.textContent = "MEGÁLLÍT";
                    powerUpStartTime = performance.now();
                    powerUpLoop();
                    updateHostMessage(getRandomMessage('power_up'));
                } else {
                    gameState.isPoweringUp = false;
                    cancelAnimationFrame(powerUpAnimationId);

                    const elapsedTime = performance.now() - powerUpStartTime;
                    const cycleTime = 1500;
                    // Power is scaled from 0.3 to 1.0 to avoid unsatisfyingly weak spins
                    const power = ((elapsedTime % cycleTime) / cycleTime) * 0.7 + 0.3;

                    hubText.textContent = "PÖRGETÉS";
                    hub.classList.add('disabled');

                    setTimeout(() => {
                        spinWheel(power);
                    }, 300);
                }
            }


            function spinWheel(power) {
                if (gameState.isSpinning) return;
                gameState.isSpinning = true;
                gameState.currentSpinValue = null;
                updateUI();
                updateHostMessage(getRandomMessage('spinning'));

                const baseRotations = 3;
                const powerRotation = power * 4;
                const randomExtraRotation = Math.random();
                const totalRotation = (baseRotations + powerRotation + randomExtraRotation) * 360;
                const currentRotation = parseFloat(wheel.dataset.rotation || 0);
                const newRotation = currentRotation + totalRotation;
                wheel.style.transform = `rotate(${newRotation}deg)`;
                wheel.dataset.rotation = newRotation;
                
                setTimeout(() => {
                    gameState.isSpinning = false;
                    const wheelSetIndex = Math.min(gameState.currentRound - 1, wheelSegmentSets.length - 1);
                    const segments = JSON.parse(JSON.stringify(wheelSegmentSets[wheelSetIndex]));
                    if (gameState.specialPrizeWon && gameState.currentRound > 1) {
                        const prizeIndex = segments.findIndex(s => s.value === 'special_prize');
                        if (prizeIndex !== -1) {
                            segments[prizeIndex] = { label: '1000', value: 1000, color: '#4caf50' };
                        }
                    }

                    const numSegments = segments.length;
                    const segmentAngle = 360 / numSegments;
                    
                    const finalAngle = newRotation % 360;
                    const pointerAngle = (360 - finalAngle) % 360; 
                    const segmentIndex = Math.floor(pointerAngle / segmentAngle);
                    
                    const result = segments[segmentIndex];
                    const prevSegment = segments[(segmentIndex - 1 + numSegments) % numSegments];
                    const nextSegment = segments[(segmentIndex + 1) % numSegments];
                    const isNearMiss = result.value !== 'bankrupt' && (prevSegment.value === 'bankrupt' || nextSegment.value === 'bankrupt');
                    
                    const segmentPath = document.getElementById(`wheel-segment-${segmentIndex}`);
                    if (segmentPath) {
                        segmentPath.classList.add('flashing-segment');
                    }

                    setTimeout(() => {
                        if (segmentPath) {
                            segmentPath.classList.remove('flashing-segment');
                        }
                        handleSpinResult(result, isNearMiss);
                    }, 900);
                    
                }, 5000);
            }
            
             function checkAllConsonantsGuessed() {
                const currentPuzzle = allPuzzles[hourlyPuzzleIndices[gameState.currentRound - 1]].puzzle.toUpperCase();
                const uniqueChars = [...new Set(currentPuzzle.split(''))];
                const consonantsInPuzzle = uniqueChars.filter(char => !VOWELS.includes(char) && FULL_ALPHABET.includes(char));

                const allGuessed = consonantsInPuzzle.every(consonant => gameState.guessedLetters.includes(consonant));

                if (allGuessed && !gameState.noMoreConsonants) {
                    gameState.noMoreConsonants = true;
                    updateHostMessage(getRandomMessage('no_consonants'), true);
                    updateUI();
                }
             }

            function handleSpinResult(result, isNearMiss) {
                gameState.awaitingConsonant = false;
                const currentPuzzleData = allPuzzles[hourlyPuzzleIndices[gameState.currentRound - 1]];
                
                 if (result.isBonus) {
                    updateHostMessage(getRandomMessage('bonus_points', {value: result.value.toLocaleString('hu-HU')}), true);
                    gameState.roundWinnings += result.value;
                    endTurn();
                    return;
                }

                switch(result.value) {
                    case 'bankrupt':
                        if(isSunday){
                             updateHostMessage(getRandomMessage('bankrupt_sunday', {bet: gameState.currentBet.toLocaleString('hu-HU')}), true);
                             gameState.playerScore -= gameState.currentBet;
                             gameState.playerScore = Math.max(0, gameState.playerScore);
                             saveWeeklyScore(gameState.playerScore);
                        } else {
                             updateHostMessage(getRandomMessage('bankrupt'), true);
                        }
                        gameState.roundWinnings = 0;
                        endTurn();
                        break;
                    case 'lose_turn':
                        updateHostMessage(getRandomMessage('lose_turn'), true);
                        endTurn();
                        break;
                    case 'hint':
                         if (!gameState.hintUsed && currentPuzzleData.hints && currentPuzzleData.hints[0]) {
                            updateHostMessage(getRandomMessage('hint', { hint: currentPuzzleData.hints[0] }), true);
                            gameState.hintUsed = true;
                        } else if (currentPuzzleData.hints && currentPuzzleData.hints[1]) {
                             updateHostMessage(getRandomMessage('hint', { hint: currentPuzzleData.hints[1] }), true);
                        }
                        endTurn();
                        break;
                    case 'express':
                        gameState.isExpressTurn = true;
                        gameState.currentSpinValue = 1000;
                        updateHostMessage(getRandomMessage('express'), true);
                        updateUI();
                        break;
                    case 'double_or_nothing':
                        handleDoubleOrNothing();
                        break;
                    case 'special_prize':
                        handleSpecialPrize();
                        break;
                    default: // Számérték
                        gameState.currentSpinValue = result.value;
                        gameState.awaitingConsonant = true;
                        if (isNearMiss) {
                            updateHostMessage(getRandomMessage('near_miss_bankrupt', {value: result.value.toLocaleString('hu-HU')}), true);
                        } else {
                            updateHostMessage(getRandomMessage('spin_result', {value: result.value.toLocaleString('hu-HU')}), true);
                        }
                        updateUI();
                        break;
                }
            }

            async function handleSpecialPrize() {
                gameState.specialPrizeWon = true; 
                drawWheel(gameState.currentRound); 
                
                const availablePrizes = SPECIAL_PRIZES.filter(p => !gameState.wonPrizes.includes(p.name));
                const prize = availablePrizes.length > 0 ? availablePrizes[Math.floor(Math.random() * availablePrizes.length)] : SPECIAL_PRIZES[0];
                const cashValue = Math.floor(prize.value / 2);

                try {
                    const choice = await showModal({
                        title: 'Különdíj!',
                        text: `Gratulálok, megnyerte a Különdíjat: egy <strong>${prize.name}</strong>!<br><br>Választhat: elviszi a nyereményt, vagy kéri az értékének felét, <strong>${cashValue.toLocaleString('hu-HU')}&nbsp;Ft</strong>-ot?`,
                        confirmText: 'A Nyereményt Kérem!',
                        cancelText: `Kérem a Pénzt (${cashValue.toLocaleString('hu-HU')} Ft)`,
                    });

                    if (choice) {
                        gameState.wonPrizes.push(prize.name);
                        updateHostMessage(`Remek választás! A(z) <strong>${prize.name}</strong> már az Öné! A játék folytatódik!`, true);
                    } else {
                         gameState.roundWinnings += cashValue;
                         updateHostMessage(`Praktikus döntés! <strong>${cashValue.toLocaleString('hu-HU')}&nbsp;Ft</strong> jóváírva! Folytassuk!`, true);
                    }
                } catch { 
                     gameState.roundWinnings += cashValue;
                     updateHostMessage(`A biztos pénzt választotta, <strong>${cashValue.toLocaleString('hu-HU')}&nbsp;Ft</strong> jóváírva! Folytassuk!`, true);
                }
                endTurn();
            }

            function handleDoubleOrNothing() {
                if (gameState.roundWinnings <= 0) {
                    updateHostMessage("<strong>DUPLA VAGY SEMMI</strong>, de nincs mit kockáztatni. Pörgessen tovább!", true);
                    endTurn();
                    return;
                }
                gameState.isDoubleOrNothingTurn = true;
                updateHostMessage(getRandomMessage('double_or_nothing_prompt', { points: gameState.roundWinnings.toLocaleString('hu-HU') }), true);
                updateUI();
            }
            
            function handleLetterGuess(letter) {
                if (document.querySelector(`.alphabet-key[data-letter="${letter}"]`).disabled) return;
                
                if (gameState.inMainPrizeSelection) {
                    handleMainPrizeLetterSelection(letter);
                    return;
                }

                const isVowel = VOWELS.includes(letter);

                if (gameState.isDoubleOrNothingTurn) {
                    if (isVowel) return; 
                    handleDoubleOrNothingGuess(letter);
                    return;
                }

                if (!isVowel && !gameState.awaitingConsonant && !gameState.isExpressTurn) return;
                if (isVowel && (gameState.awaitingConsonant || gameState.isExpressTurn)) return;

                if (isVowel) {
                    gameState.roundWinnings -= VOWEL_COST;
                    gameState.vowelsPurchasedThisRound++;
                }
                
                gameState.guessedLetters.push(letter);
                
                const currentPuzzle = allPuzzles[hourlyPuzzleIndices[gameState.currentRound - 1]].puzzle.toUpperCase();
                const foundCount = (currentPuzzle.match(new RegExp(letter, "g")) || []).length;

                if (foundCount > 0) {
                    revealAndCalculate(letter, isVowel, foundCount);
                } else {
                    updateHostMessage(getRandomMessage('wrong_letter'));
                    endTurn();
                }
            }
            
            async function handleDoubleOrNothingGuess(letter) {
                gameState.guessedLetters.push(letter);
                gameState.isDoubleOrNothingTurn = false;
                const currentPuzzle = allPuzzles[hourlyPuzzleIndices[gameState.currentRound - 1]].puzzle.toUpperCase();
                const foundCount = (currentPuzzle.match(new RegExp(letter, "g")) || []).length;

                if (foundCount > 0) {
                    gameState.roundWinnings *= 2;
                    updateHostMessage(getRandomMessage('double_win', { points: gameState.roundWinnings.toLocaleString('hu-HU') }), true);
                    await revealAndCalculate(letter, false, foundCount, true);
                } else {
                    gameState.roundWinnings = 0;
                    updateHostMessage(getRandomMessage('double_lose'), true);
                    endTurn();
                }
            }

            async function revealAndCalculate(letter, isVowel, foundCount, skipEarnings = false){
                const hub = document.getElementById('wheel-hub');
                if (hub) hub.classList.add('disabled');
                solveButton.disabled = true;

                const tilesToReveal = document.querySelectorAll(`.puzzle-tile[data-letter="${letter}"]:not(.revealed)`);
                
                tilesToReveal.forEach(tile => {
                    const frontFace = tile.querySelector('.tile-front');
                    if (frontFace) frontFace.classList.add('flashing');
                });
                
                await new Promise(resolve => setTimeout(resolve, 1200));

                tilesToReveal.forEach(tile => {
                    const frontFace = tile.querySelector('.tile-front');
                    if (frontFace) frontFace.classList.remove('flashing');
                });
                
                for (const tile of tilesToReveal) {
                    tile.classList.add('revealed');
                    await new Promise(resolve => setTimeout(resolve, 300));
                }

                if (isVowel) {
                    updateHostMessage(getRandomMessage('correct_vowel', {count: foundCount}));
                } else {
                    const earnings = foundCount * gameState.currentSpinValue;
                    if (!skipEarnings) {
                        gameState.roundWinnings += earnings;
                    }
                    
                    if (earnings >= HUGE_WIN_THRESHOLD && !skipEarnings) {
                            updateHostMessage(getRandomMessage('huge_win_consonant', {count: foundCount, earnings: earnings.toLocaleString('hu-HU')}));
                    } else if (!skipEarnings) {
                            updateHostMessage(getRandomMessage('correct_consonant', {count: foundCount, earnings: earnings.toLocaleString('hu-HU')}));
                    }

                    if (!gameState.isExpressTurn) gameState.awaitingConsonant = false;
                }

                if (document.querySelectorAll('.puzzle-tile[data-letter]').length === document.querySelectorAll('.puzzle-tile.revealed').length) {
                    setTimeout(() => solvePuzzle(true), 1000);
                } else {
                    if (skipEarnings) { 
                        endTurn();
                    } else {
                        checkAllConsonantsGuessed();
                        endTurn(); 
                    }
                }
            }

            const normalizeAnswer = (str) => {
                if (typeof str !== 'string') return '';
                return str.toUpperCase()
                          .normalize('NFD')
                          .replace(/[\u0300-\u036f]/g, '')
                          .replace(/[.,-]/g, '')
                          .replace(/\s+/g, '');
            }

            async function solvePuzzle(autoSolve = false) {
                const puzzleData = allPuzzles[hourlyPuzzleIndices[gameState.currentRound - 1]];
                let attempt = '';
                const cleanPuzzle = normalizeAnswer(puzzleData.puzzle);

                if (!autoSolve) {
                    try {
                        attempt = await showModal({
                            title: 'Megfejtés', text: 'Kérem a teljes megfejtést:', showInput: true, inputType: 'text'
                        });
                        if (!attempt) return;
                    } catch { return; }
                } else {
                    attempt = puzzleData.puzzle;
                }
                const cleanAttempt = normalizeAnswer(attempt);

                if (cleanAttempt === cleanPuzzle) {
                    if(!autoSolve) {
                        const unrevealedTiles = document.querySelectorAll('.puzzle-tile[data-letter]:not(.revealed)');
                        for (const tile of unrevealedTiles) {
                            tile.classList.add('revealed');
                            await new Promise(resolve => setTimeout(resolve, 100));
                        }
                    }
                    
                    const solveBonus = SOLVE_BONUSES[Math.min(gameState.currentRound - 1, SOLVE_BONUSES.length - 1)];
                    let totalGained = gameState.roundWinnings + solveBonus;
                    
                    if(isSunday){
                        gameState.playerScore += totalGained + gameState.currentBet; 
                        saveWeeklyScore(gameState.playerScore);
                        updateHostMessage(getRandomMessage('solve_sunday_success', {
                            bet: gameState.currentBet.toLocaleString('hu-HU'),
                            totalGained: totalGained.toLocaleString('hu-HU')
                        }), true);
                    } else if(gameState.goldenPuzzleRounds.includes(gameState.currentRound)) {
                        totalGained *= 2;
                        gameState.hourlyWinnings += totalGained;
                        updateHostMessage(getRandomMessage('solve_golden_success', {totalGained: totalGained.toLocaleString('hu-HU')}), true);
                    } else {
                        gameState.hourlyWinnings += totalGained;
                        updateHostMessage(getRandomMessage('solve_success', {totalGained: totalGained.toLocaleString('hu-HU')}));
                    }
                    
                    setTimeout(async () => {
                        if (puzzleData.info) {
                            try {
                                await showModal({
                                    title: puzzleData.puzzle,
                                    text: puzzleData.info,
                                    showInput: false,
                                    confirmText: 'Szuper!',
                                    showCancel: false
                                });
                            } catch {}
                        }

                        if (gameState.currentRound < gameState.totalRounds) {
                            startRound(false); 
                        } else {
                            handleEndOfHour();
                        }
                    }, 2000);

                } else {
                    const penalty = Math.max(500, Math.floor(gameState.roundWinnings * 0.20));
                    gameState.roundWinnings = Math.max(0, gameState.roundWinnings - penalty);
                    
                    updateHostMessage(getRandomMessage('solve_fail', {penalty: penalty.toLocaleString('hu-HU')}), true);
                    updateUI();
                }
            }

            function gameOver(customMessage = '') {
                saveWeeklyScore(gameState.playerScore);

                if (isSunday && gameState.playerScore >= MILLIONAIRE_THRESHOLD) {
                    const currentWeekId = getWeekNumber(new Date());
                    const [year, week] = currentWeekId.split('-').map(Number);
                    let nextWeek = week + 1;
                    let nextYear = year;
                    if (nextWeek > 52) {
                        nextWeek = 1;
                        nextYear++;
                    }
                    const nextWeekId = `${nextYear}-${nextWeek}`;
                    localStorage.setItem('millionaireUntilWeekId', nextWeekId);
                    updateHostMessage(`Gratulálok, <strong>${gameState.playerScore.toLocaleString('hu-HU')}&nbsp;Ft</strong>-tal Ön lett a <strong>Hét Milliomosa!</strong>`, true);
                } else {
                    const finalMessage = customMessage || getRandomMessage('game_over', {score: gameState.playerScore.toLocaleString('hu-HU')});
                    updateHostMessage(finalMessage, true);
                }
                 
                localStorage.setItem('lastPlayedHourId', gameState.puzzleHourId.toString());
                const hub = document.getElementById('wheel-hub');
                if(hub) hub.classList.add('disabled');
                solveButton.disabled = true;
                mainPrizeProgress.style.display = 'none';
                document.querySelectorAll('.alphabet-key').forEach(k => k.disabled = true);
                newGameButton.style.display = 'block';
            }

            function endTurn() {
                gameState.currentSpinValue = null;
                gameState.awaitingConsonant = false;
                gameState.isExpressTurn = false;
                gameState.isDoubleOrNothingTurn = false;
                resetSpinControls();
                
                setTimeout(() => {
                    if (document.querySelectorAll('.puzzle-tile[data-letter]').length !== document.querySelectorAll('.puzzle-tile.revealed').length && gameState.currentRound <= gameState.totalRounds) {
                         if (!gameState.noMoreConsonants) {
                           updateHostMessage(getRandomMessage('turn_end'));
                        } else {
                           updateHostMessage(getRandomMessage('no_consonants'), true);
                        }
                    }
                    updateUI();
                }, 1500); 
            }
            
            async function promptForBet() {
                let bet = null;
                while (bet === null) {
                    try {
                        const rawBet = await showModal({
                            title: 'Szerencse Vasárnap Tét',
                            text: `A Heti Kassza: <strong>${gameState.playerScore.toLocaleString('hu-HU')}&nbsp;Ft</strong>. Mennyi a tét erre a körre?`,
                            showInput: true,
                            inputType: 'number',
                            confirmText: 'Tétet megteszem!',
                            showCancel: false
                        });
                        
                        const betAmount = parseInt(rawBet, 10);
                        if (isNaN(betAmount) || betAmount <= 0) {
                            alert("Kérem, érvényes, nullánál nagyobb számot adjon meg!");
                        } else if (betAmount > gameState.playerScore) {
                            alert("Nincs elég pénz a kasszában ekkora téthez!");
                        } else {
                            bet = betAmount;
                        }
                    } catch {
                         alert("A tét megadása kötelező a folytatáshoz!");
                    }
                }
                return bet;
            }

            async function startRound(isNewGame) {
                if (isNewGame) {
                    const hourId = Math.floor(Date.now() / (1000 * 60 * 60));
                    const random = seededRandom(hourId);
                    
                    const lastPlayedHour = localStorage.getItem('lastPlayedHourId');
                    if (lastPlayedHour && parseInt(lastPlayedHour, 10) === hourId) {
                        const lastScore = loadWeeklyScore();
                        updateHostMessage(getRandomMessage('game_over', {score: lastScore.toLocaleString('hu-HU')}), true);
                        scoreDisplay.textContent = `${lastScore.toLocaleString('hu-HU')} Ft`;
                        hourlyWinningsDisplay.textContent = `0 Ft`;
                        
                        roundInfoContainer.style.display = 'flex';
                        roundDisplay.textContent = `Fordulók: ${PUZZLES_PER_HOUR}/${PUZZLES_PER_HOUR}`;
                        const date = new Date(hourId * 60 * 60 * 1000);
                        hourBlockDisplay.textContent = `Adás: ${date.getHours()}:00 órai blokk`;
                        
                        puzzleBoard.innerHTML = '<div style="text-align:center; font-size: 1.2rem; color: white; padding: 2rem; line-height: 1.5;">A stúdió jelenleg szünetet tart.<br>Várjuk vissza a következő adásban!</div>';
                        alphabetPanel.innerHTML = '';
                        
                        const hub = document.getElementById('wheel-hub');
                        if(hub) hub.classList.add('disabled');
                        solveButton.disabled = true;
                        newGameButton.textContent = "Új adás keresése";
                        newGameButton.style.display = 'block';
                        mainPrizeProgress.style.display = 'none';
                        return;
                    }
                    localStorage.removeItem('lastPlayedHourId');
                    
                    hourlyPuzzleIndices = getHourlyPuzzles(random);
                    resetGameState(true);
                    
                    const currentWeekId = getWeekNumber(new Date());
                    const millionaireWeek = localStorage.getItem('millionaireUntilWeekId');
                     if (millionaireWeek && millionaireWeek === currentWeekId) {
                        gameState.isMillionaire = true;
                        document.body.classList.add('millionaire-active');
                    } else {
                        localStorage.removeItem('millionaireUntilWeekId');
                        document.body.classList.remove('millionaire-active');
                    }

                    gameState.totalRounds = hourlyPuzzleIndices.length;
                    gameState.puzzleHourId = hourId;
                    
                    if(gameState.totalRounds > 1) {
                        const goldenRoundNumber = Math.floor(random() * (gameState.totalRounds -1)) + 2; 
                        gameState.goldenPuzzleRounds = [goldenRoundNumber];
                    }

                } else {
                    resetGameState(false);
                }
                
                gameState.roundWinnings = 0;
                gameState.noMoreConsonants = false;
                gameState.currentBet = 0;
                gameState.vowelsPurchasedThisRound = 0;

                if (gameState.currentRound > gameState.totalRounds) {
                     handleEndOfHour();
                     return;
                }

                const currentPuzzleData = allPuzzles[hourlyPuzzleIndices[gameState.currentRound - 1]];
                
                if(isSunday){
                    mainPrizeProgress.style.display = 'none';
                    document.getElementById('hourly-hud').style.display = 'none';
                    document.getElementById('round-winnings-hud').style.flexBasis = '100%';


                    if (gameState.playerScore <= 0 && isNewGame) {
                        puzzleBoard.innerHTML = '<div style="text-align:center; font-size: 1.2rem; color: white; padding: 2rem; line-height: 1.5;">Nincs pénz a Heti Kasszában a vasárnapi játékhoz.<br>Gyere vissza hétköznap gyűjteni!</div>';
                        alphabetPanel.innerHTML = '';
                        const hub = document.getElementById('wheel-hub');
                        if(hub) hub.classList.add('disabled');
                        solveButton.disabled = true;
                        newGameButton.style.display = 'block';
                        return;
                    }
                    const bet = await promptForBet();
                    gameState.currentBet = bet;
                    gameState.playerScore -= bet;
                } else {
                     document.getElementById('hourly-hud').style.display = 'flex';
                     document.getElementById('round-winnings-hud').style.flexBasis = 'auto';
                }
                
                newGameButton.style.display = 'none';
                drawWheel(gameState.currentRound);
                resetSpinControls();
                
                puzzleCategory.textContent = currentPuzzleData.category;
                 if (gameState.goldenPuzzleRounds.includes(gameState.currentRound)) {
                     puzzleCategory.textContent = "⭐ " + currentPuzzleData.category;
                     puzzleCategory.classList.add('golden');
                } else {
                     puzzleCategory.classList.remove('golden');
                }

                setupPuzzleBoard(puzzleBoard, currentPuzzleData);
                createAlphabetPanel();
                updateUI();
                
                if (isNewGame && isSunday) {
                    updateHostMessage(getRandomMessage('sunday_greeting'));
                } else if (gameState.goldenPuzzleRounds.includes(gameState.currentRound)) {
                     updateHostMessage(getRandomMessage('start_golden_round', {round: gameState.currentRound}));
                } else {
                     updateHostMessage(getRandomMessage(gameState.currentRound === 1 && isNewGame ? 'start_game' : 'start_round', {round: gameState.currentRound}));
                }
            }
            
            async function handleEndOfHour() {
                updateHostMessage("Fantasztikus játék volt, mind a 10 feladványt megfejtette!", true);

                const canPlay = gameState.hourlyWinnings >= MAIN_PRIZE_THRESHOLD;
                const neededToTopUp = MAIN_PRIZE_THRESHOLD - gameState.hourlyWinnings;
                const canTopUp = gameState.playerScore >= neededToTopUp;

                try {
                    if (canPlay) {
                        const play = await showModal({
                            title: 'Fődíj Játék Lehetőség',
                            text: `Gratulálok, jogosult a Fődíj Játékra! Kockáztatja az ebben az órában nyert <strong>${gameState.hourlyWinnings.toLocaleString('hu-HU')} Ft</strong>-ot a duplájáért?`,
                            confirmText: 'Kockáztatok!',
                            cancelText: 'Megtartom a pénzt'
                        });

                        if (play) {
                            startMainPrizeGame();
                        } else {
                            gameState.playerScore += gameState.hourlyWinnings;
                            gameOver(`Bölcs döntés! Az órában nyert <strong>${gameState.hourlyWinnings.toLocaleString('hu-HU')} Ft</strong> a zsebében!`);
                        }
                    } else if (canTopUp) {
                        const topUp = await showModal({
                            title: 'Fődíj Játék - Kipótlás',
                            text: `Sajnos nem gyűlt össze a szükséges <strong>${MAIN_PRIZE_THRESHOLD.toLocaleString('hu-HU')} Ft</strong>. <br><br>Szeretné a hiányzó <strong>${neededToTopUp.toLocaleString('hu-HU')} Ft</strong>-ot kipótolni a Teljes Nyereményéből, hogy játszhasson a Fődíjért?`,
                            confirmText: 'Igen, kipótolom!',
                            cancelText: 'Nem, köszönöm'
                        });

                        if (topUp) {
                            gameState.playerScore -= neededToTopUp;
                            gameState.hourlyWinnings = MAIN_PRIZE_THRESHOLD;
                            updateUI();
                            startMainPrizeGame();
                        } else {
                            gameState.playerScore += gameState.hourlyWinnings;
                            gameOver(`Rendben! Az órában nyert <strong>${gameState.hourlyWinnings.toLocaleString('hu-HU')} Ft</strong>-ot jóváírtuk.`);
                        }
                    } else {
                        await showModal({
                            title: 'Játék Vége',
                            text: `Sajnos nem gyűlt össze a Fődíj Játékhoz szükséges összeg, és a Teljes Nyereményéből sem lehetséges a kipótlás. Az órában nyert <strong>${gameState.hourlyWinnings.toLocaleString('hu-HU')} Ft</strong>-ot jóváírtuk.`,
                            showCancel: false
                        });
                        gameState.playerScore += gameState.hourlyWinnings;
                        gameOver();
                    }
                } catch {
                    gameState.playerScore += gameState.hourlyWinnings;
                    gameOver(`Döntés nélkül az órában nyert <strong>${gameState.hourlyWinnings.toLocaleString('hu-HU')} Ft</strong>-ot jóváírtuk.`);
                }
            }

            async function startMainPrizeGame() {
                 const mainPrizePuzzles = allPuzzles.filter(p => p.category === 'Fődíj Feladvány');
                 if (mainPrizePuzzles.length === 0) {
                     alert("Hiba: Nincs Fődíj Feladvány a rendszerben!");
                     gameOver();
                     return;
                 }
                 const mainPrizePuzzle = mainPrizePuzzles[gameState.puzzleHourId % mainPrizePuzzles.length];
                 
                 gameState.inMainPrizeSelection = true;
                 gameState.guessedLetters = [];
                 gameState.mainPrizeConsonants = [];
                 gameState.mainPrizeVowels = [];
                 
                 mainPrizeModal.style.display = 'flex';
                 mainPrizeAlphabetContainer.innerHTML = '';
                 mainPrizeAlphabetContainer.appendChild(alphabetPanel);
                 
                 mainPrizeTitle.textContent = "Fődíj - Betűválasztás";
                 mainPrizeCategory.textContent = "Válasszon 5 mássalhangzót és 1 magánhangzót";
                 mainPrizeInstructions.style.display = 'none';
                 mainPrizeSolveInput.style.display = 'none';
                 mainPrizeConfirmBtn.style.display = 'none';
                 mainPrizeTimer.style.display = 'none';
                 mainPrizeBoard.innerHTML = '';
                 mainPrizeGivenLetters.innerHTML = '';
                 updateAlphabetPanel();
            }

            function handleMainPrizeLetterSelection(letter) {
                const isVowel = VOWELS.includes(letter);
                
                if (isVowel && gameState.mainPrizeVowels.length < 1) {
                    gameState.mainPrizeVowels.push(letter);
                } else if (!isVowel && gameState.mainPrizeConsonants.length < 5) {
                    gameState.mainPrizeConsonants.push(letter);
                }
                gameState.guessedLetters.push(letter);
                updateAlphabetPanel();

                const consonantsLeft = 5 - gameState.mainPrizeConsonants.length;
                const vowelsLeft = 1 - gameState.mainPrizeVowels.length;
                mainPrizeCategory.textContent = `Válasszon még: ${consonantsLeft} mássalhangzót, ${vowelsLeft} magánhangzót`;
                
                if (consonantsLeft === 0 && vowelsLeft === 0) {
                    gameState.inMainPrizeSelection = false;
                    setTimeout(runMainPrizeCountdown, 1000);
                }
            }

            function runMainPrizeCountdown() {
                const mainPrizePuzzles = allPuzzles.filter(p => p.category === 'Fődíj Feladvány');
                const mainPrizePuzzle = mainPrizePuzzles[gameState.puzzleHourId % mainPrizePuzzles.length];
                 
                 mainPrizeTitle.textContent = "Fődíj Játék";
                 mainPrizeCategory.textContent = mainPrizePuzzle.category;
                 setupPuzzleBoard(mainPrizeBoard, mainPrizePuzzle);
                 mainPrizeAlphabetContainer.style.display = 'none';
                 mainPrizeInstructions.style.display = 'block';
                 mainPrizeSolveInput.style.display = 'block';
                 mainPrizeSolveInput.value = '';
                 mainPrizeConfirmBtn.style.display = 'block';
                 mainPrizeTimer.style.display = 'block';

                 const chosenLetters = [...gameState.mainPrizeConsonants, ...gameState.mainPrizeVowels];
                 mainPrizeGivenLetters.textContent = `A választott betűk: ${chosenLetters.join(', ')}`;
                 
                 setTimeout(() => {
                     chosenLetters.forEach(letter => {
                         mainPrizeBoard.querySelectorAll(`.puzzle-tile[data-letter="${letter}"]`).forEach(tile => tile.classList.add('revealed'));
                     });
                     
                     let timeLeft = MAIN_PRIZE_TIME;
                     mainPrizeTimer.textContent = timeLeft;
                     mainPrizeTimer.classList.remove('timer-low');
                     mainPrizeSolveInput.disabled = false;
                     mainPrizeConfirmBtn.disabled = false;
                     mainPrizeSolveInput.focus();
                     
                     mainPrizeTimerInterval = setInterval(() => {
                         timeLeft--;
                         mainPrizeTimer.textContent = timeLeft;
                         if(timeLeft <= 10 && !mainPrizeTimer.classList.contains('timer-low')) {
                            mainPrizeTimer.classList.add('timer-low');
                         }
                         if(timeLeft <= 0) {
                            endMainPrizeGame(false, true);
                         }
                     }, 1000);
                 }, 3000);
            }
            
            function endMainPrizeGame(isWin, isTimeout = false) {
                clearInterval(mainPrizeTimerInterval);
                mainPrizeSolveInput.disabled = true;
                mainPrizeConfirmBtn.disabled = true;

                if (isWin) {
                    const winnings = gameState.hourlyWinnings * 2;
                    gameState.playerScore += winnings;
                    mainPrizeTitle.textContent = "FŐDÍJ MEGVAN!";
                    updateHostMessage(getRandomMessage('main_prize_win', { winnings: winnings.toLocaleString('hu-HU') }), true);
                } else {
                    mainPrizeTitle.textContent = "SAJNOS NEM SIKERÜLT";
                    updateHostMessage(getRandomMessage(isTimeout ? 'main_prize_lose_timeout' : 'main_prize_lose'), true);
                }

                hourlyWinningsDisplay.textContent = "0 Ft";
                scoreDisplay.textContent = `${gameState.playerScore.toLocaleString('hu-HU')} Ft`;
                 
                setTimeout(() => {
                    mainPrizeModal.style.display = 'none';
                    gameOver();
                }, 5000);
            }

            mainPrizeConfirmBtn.addEventListener('click', () => {
                 const mainPrizePuzzles = allPuzzles.filter(p => p.category === 'Fődíj Feladvány');
                 const mainPrizePuzzle = mainPrizePuzzles[gameState.puzzleHourId % mainPrizePuzzles.length];
                 const cleanPuzzle = normalizeAnswer(mainPrizePuzzle.puzzle);
                 const attempt = normalizeAnswer(mainPrizeSolveInput.value);
                 
                 if (attempt === cleanPuzzle) {
                     endMainPrizeGame(true);
                 } else {
                     endMainPrizeGame(false);
                 }
            });


            function initializeGame() {
                if (isSunday) {
                    document.body.classList.add('sunday-special');
                    mainHudLabel.textContent = "Heti Kassza";
                } else {
                    mainHudLabel.textContent = "Teljes Nyeremény";
                }
                startRound(true);
            }
            
            solveButton.addEventListener('click', () => solvePuzzle(false));
            newGameButton.addEventListener('click', () => {
                localStorage.removeItem('lastPlayedHourId');
                location.reload(); 
            });

            new MutationObserver(() => {
                if (!mainPrizeModal.style.display || mainPrizeModal.style.display === 'none') {
                    if (alphabetPanel.parentElement !== document.getElementById('puzzle-section')) {
                         document.getElementById('puzzle-section').appendChild(alphabetPanel);
                    }
                }
            }).observe(mainPrizeModal, { attributes: true, attributeFilter: ['style'] });


            initializeGame();
        });
    </script>
</body>
</html>```
